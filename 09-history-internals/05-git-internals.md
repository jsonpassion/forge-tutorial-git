# Git ë‚´ë¶€ êµ¬ì¡°

> ê°ì²´(blob/tree/commit), refs, HEAD, DAG, packfile

## ê°œìš”

ì§€ê¸ˆê¹Œì§€ Gitì˜ ë‹¤ì–‘í•œ ëª…ë ¹ì–´ë¥¼ ë°°ì› ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° `git add`ë¥¼ í•˜ë©´ ë‚´ë¶€ì—ì„œ ì •í™•íˆ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚ ê¹Œìš”? ì»¤ë°‹ì€ ì–´ë””ì— ì €ì¥ë˜ê³ , ë¸Œëœì¹˜ëŠ” ì‹¤ì œë¡œ ë¬´ì—‡ì¼ê¹Œìš”? ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” Gitì˜ **ë‚´ë¶€ êµ¬ì¡°**ë¥¼ íƒí—˜í•©ë‹ˆë‹¤. "ë§ˆë²•ì˜ ëšœê»‘ì„ ì—´ê³  ì•ˆì„ ë“¤ì—¬ë‹¤ë³´ëŠ”" ì‹œê°„ì´ì—ìš”. ë‚´ë¶€ë¥¼ ì´í•´í•˜ë©´ Gitì˜ ëª¨ë“  ëª…ë ¹ì–´ê°€ **ì™œ ê·¸ë ‡ê²Œ ë™ì‘í•˜ëŠ”ì§€** ìì—°ìŠ¤ëŸ½ê²Œ ì´í•´ë©ë‹ˆë‹¤.

**ì„ ìˆ˜ ì§€ì‹**: [íˆìŠ¤í† ë¦¬ ì¬ì‘ì„±](./04-history-rewrite.md)ê¹Œì§€ì˜ Ch9 ì „ì²´ ë‚´ìš©
**í•™ìŠµ ëª©í‘œ**:
- Gitì˜ 4ê°€ì§€ ê°ì²´ íƒ€ì…(blob, tree, commit, tag)ì„ ì´í•´í•œë‹¤
- SHA í•´ì‹œê°€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ëŠ”ì§€ ì•ˆë‹¤
- refsì™€ HEADì˜ ì‹¤ì²´ë¥¼ íŒŒì•…í•œë‹¤
- DAG(ë°©í–¥ì„± ë¹„ìˆœí™˜ ê·¸ë˜í”„)ë¡œ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ë¥¼ ì´í•´í•œë‹¤
- packfileê³¼ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ë™ì‘ì„ ì•ˆë‹¤

## ì™œ ì•Œì•„ì•¼ í• ê¹Œ?

"Gitì€ ì–´ë µë‹¤"ëŠ” ë§ì„ ìì£¼ ë“£ì£ . í•˜ì§€ë§Œ ë†€ëê²Œë„, Gitì˜ ë‚´ë¶€ êµ¬ì¡°ëŠ” **ë§¤ìš° ë‹¨ìˆœ**í•©ë‹ˆë‹¤. ë‹¨ 4ê°€ì§€ ê°ì²´ íƒ€ì…ê³¼ ëª‡ ê°œì˜ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ëª¨ë“  ê²ƒì´ ì‘ë™í•´ìš”. ë‚´ë¶€ë¥¼ ì´í•´í•˜ë©´ "ì™œ rebaseê°€ ì»¤ë°‹ í•´ì‹œë¥¼ ë°”ê¾¸ëŠ”ì§€", "ì™œ ë¸Œëœì¹˜ê°€ ê°€ë³ë‹¤ê³  í•˜ëŠ”ì§€", "ì‚­ì œí•œ ì»¤ë°‹ì´ ì™œ ë³µêµ¬ ê°€ëŠ¥í•œì§€"ê°€ ëª¨ë‘ ëª…ì¾Œí•´ì§‘ë‹ˆë‹¤.

## í•µì‹¬ ê°œë…

### ê°œë… 1: .git ë””ë ‰í† ë¦¬ â€” Gitì˜ ì‹¬ì¥

> ğŸ’¡ **ë¹„ìœ **: `.git` ë””ë ‰í† ë¦¬ëŠ” **ë„ì„œê´€ì˜ ì„œê³ **ì™€ ê°™ìŠµë‹ˆë‹¤. ëª¨ë“  ì±…(íŒŒì¼), ëª©ë¡(íˆìŠ¤í† ë¦¬), ì¹´ë“œ ì¸ë±ìŠ¤(ì°¸ì¡°)ê°€ ì´ ì•ˆì— ë³´ê´€ë˜ì–´ ìˆì–´ìš”. ì‘ì—… ë””ë ‰í† ë¦¬ëŠ” ì—´ëŒì‹¤ì´ê³ , `.git`ì€ ì‹¤ì œ ì €ì¥ ê³µê°„ì…ë‹ˆë‹¤.

`git init`ì„ ì‹¤í–‰í•˜ë©´ ìƒê¸°ëŠ” `.git` ë””ë ‰í† ë¦¬ì˜ í•µì‹¬ êµ¬ì¡°:

| ê²½ë¡œ | ì—­í•  |
|------|------|
| `.git/objects/` | ëª¨ë“  Git ê°ì²´ ì €ì¥ì†Œ (blob, tree, commit, tag) |
| `.git/refs/` | ë¸Œëœì¹˜, íƒœê·¸ ë“±ì˜ ì°¸ì¡° í¬ì¸í„° |
| `.git/HEAD` | í˜„ì¬ ì²´í¬ì•„ì›ƒëœ ë¸Œëœì¹˜/ì»¤ë°‹ |
| `.git/index` | ìŠ¤í…Œì´ì§• ì˜ì—­ (ë°”ì´ë„ˆë¦¬ íŒŒì¼) |
| `.git/logs/` | reflog ë°ì´í„° |
| `.git/config` | ì €ì¥ì†Œë³„ ì„¤ì • |
| `.git/hooks/` | í›… ìŠ¤í¬ë¦½íŠ¸ |

### ê°œë… 2: Gitì˜ 4ê°€ì§€ ê°ì²´

Gitì€ ëª¨ë“  ê²ƒì„ **4ê°€ì§€ ê°ì²´ íƒ€ì…**ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤:

> ğŸ’¡ **ë¹„ìœ **: Gitì˜ ê°ì²´ ì‹œìŠ¤í…œì„ **íƒë°° ì‹œìŠ¤í…œ**ì— ë¹„ìœ í•˜ë©´:
> - **Blob** = ìƒì ì•ˆì˜ ë¬¼ê±´ (íŒŒì¼ ë‚´ìš© ìì²´)
> - **Tree** = ìƒìì˜ ë¼ë²¨ (ì–´ë–¤ ë¬¼ê±´ì´ ì–´ë””ì— ìˆëŠ”ì§€ ëª©ë¡)
> - **Commit** = ë°°ì†¡ ì „í‘œ (ëˆ„ê°€, ì–¸ì œ, ë¬´ì—‡ì„ ë³´ëƒˆëŠ”ì§€ ê¸°ë¡)
> - **Tag** = VIP ìŠ¤í‹°ì»¤ (íŠ¹ë³„íˆ ì¤‘ìš”í•œ ë°°ì†¡ì— ë¶™ì´ëŠ” í‘œì‹œ)

**Blob** â€” íŒŒì¼ ë‚´ìš© ì €ì¥:

```bash
# íŒŒì¼ ë‚´ìš©ì„ blob ê°ì²´ë¡œ ì§ì ‘ ë§Œë“¤ì–´ë³´ê¸°
echo "Hello, Git!" | git hash-object --stdin
```

```output
0eb2a8dc5d3a8fc7e7fdf1e8f46cb1f9cf00767a
```

blobì—ëŠ” **íŒŒì¼ ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤**. ìˆœìˆ˜í•˜ê²Œ íŒŒì¼ ë‚´ìš©ë§Œ ì €ì¥í•´ìš”. ê°™ì€ ë‚´ìš©ì˜ íŒŒì¼ì´ 10ê°œ ìˆì–´ë„ blobì€ **í•˜ë‚˜**ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.

**Tree** â€” ë””ë ‰í† ë¦¬ êµ¬ì¡°:

```bash
# ì»¤ë°‹ì˜ íŠ¸ë¦¬ ê°ì²´ í™•ì¸
git cat-file -p HEAD^{tree}
```

```output
100644 blob a1b2c3d... README.md
100644 blob e4f5g6h... app.js
040000 tree h7i8j9k... src
```

treeëŠ” "ì´ ë””ë ‰í† ë¦¬ì—ëŠ” ì–´ë–¤ íŒŒì¼(blob)ê³¼ í•˜ìœ„ ë””ë ‰í† ë¦¬(tree)ê°€ ìˆëŠ”ì§€"ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.

**Commit** â€” ìŠ¤ëƒ…ìƒ· + ë©”íƒ€ë°ì´í„°:

```bash
# ì»¤ë°‹ ê°ì²´ì˜ ë‚´ìš© ë³´ê¸°
git cat-file -p HEAD
```

```output
tree a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
parent e4f5g6h7i8j9k0l1m2n3o4p5q6r7s8t9u0v1w2x3
author Jason <jason@email.com> 1707984000 +0900
committer Jason <jason@email.com> 1707984000 +0900

Add new feature
```

ì»¤ë°‹ì€ ë‹¤ìŒì„ í¬í•¨í•©ë‹ˆë‹¤:
- **tree**: í•´ë‹¹ ì‹œì ì˜ ì „ì²´ ë””ë ‰í† ë¦¬ ìŠ¤ëƒ…ìƒ·ì„ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°
- **parent**: ì´ì „ ì»¤ë°‹(ë“¤)ì„ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„° (ë¨¸ì§€ ì»¤ë°‹ì€ 2ê°œ ì´ìƒ)
- **author/committer**: ì‘ì„±ìì™€ ì»¤ë°‹í•œ ì‚¬ëŒ
- **message**: ì»¤ë°‹ ë©”ì‹œì§€

**Tag (annotated)** â€” íŠ¹ë³„í•œ í‘œì‹œ:

```bash
git cat-file -p v1.0
```

```output
object a1b2c3d4e5f6...
type commit
tag v1.0
tagger Jason <jason@email.com> 1707984000 +0900

Release version 1.0
```

### ê°œë… 3: SHA í•´ì‹œ â€” ì½˜í…ì¸  ì£¼ì†Œ ì‹œìŠ¤í…œ

Gitì€ ëª¨ë“  ê°ì²´ë¥¼ **SHA-1 í•´ì‹œ**ë¡œ ì‹ë³„í•©ë‹ˆë‹¤. í•´ì‹œëŠ” ì´ë ‡ê²Œ ë§Œë“¤ì–´ì ¸ìš”:

```bash
# Gitì´ ë‚´ë¶€ì ìœ¼ë¡œ í•˜ëŠ” ì¼ì„ ì§ì ‘ í•´ë³´ë©´:
# í˜•ì‹: "{íƒ€ì…} {ë°”ì´íŠ¸ìˆ˜}\0{ë‚´ìš©}" â†’ SHA-1 í•´ì‹œ
printf 'blob 12\0Hello, Git!' | shasum
```

```output
0eb2a8dc5d3a8fc7e7fdf1e8f46cb1f9cf00767a  -
```

ê°™ì€ ë‚´ìš©ì€ **í•­ìƒ ê°™ì€ í•´ì‹œ**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ê²ƒì´ Gitì˜ ë¬´ê²°ì„± ê²€ì¦ ì›ë¦¬ì˜ˆìš”. íŒŒì¼ì´ 1ë¹„íŠ¸ë¼ë„ ë°”ë€Œë©´ í•´ì‹œê°€ ì™„ì „íˆ ë‹¬ë¼ì§€ë¯€ë¡œ, ë°ì´í„° ì†ìƒì„ ì¦‰ì‹œ ê°ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê°ì²´ ì €ì¥ ìœ„ì¹˜**:

í•´ì‹œ `0eb2a8dc5d...`ì¸ ê°ì²´ëŠ” `.git/objects/0e/b2a8dc5d...`ì— ì €ì¥ë©ë‹ˆë‹¤ (ì²« 2ê¸€ì = ë””ë ‰í† ë¦¬, ë‚˜ë¨¸ì§€ 38ê¸€ì = íŒŒì¼ëª…). zlibìœ¼ë¡œ ì••ì¶•ë©ë‹ˆë‹¤.

> ğŸ’¡ **ì•Œê³  ê³„ì…¨ë‚˜ìš”?**: Gitì€ í˜„ì¬ SHA-1ì„ ì‚¬ìš©í•˜ì§€ë§Œ, **SHA-256ìœ¼ë¡œì˜ ì „í™˜ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤**. Git 2.29ë¶€í„° `git init --object-format=sha256`ìœ¼ë¡œ SHA-256 ì €ì¥ì†Œë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³ , **Git 3.0(2026ë…„ ë§ ëª©í‘œ)**ì—ì„œëŠ” SHA-256ì´ ìƒˆ ì €ì¥ì†Œì˜ ê¸°ë³¸ê°’ì´ ë  ì˜ˆì •ì…ë‹ˆë‹¤. ê¸°ì¡´ SHA-1 ì €ì¥ì†Œì™€ì˜ í˜¸í™˜ì„±ë„ ê³„ì† ìœ ì§€ë©ë‹ˆë‹¤.

### ê°œë… 4: Refs â€” ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” í¬ì¸í„°

40ìë¦¬ í•´ì‹œë¥¼ ì¼ì¼ì´ ê¸°ì–µí•  ìˆ˜ ì—†ìœ¼ë‹ˆ, Gitì€ **refs(ì°¸ì¡°)**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```bash
# ë¸Œëœì¹˜ëŠ” ì‚¬ì‹¤ ì»¤ë°‹ í•´ì‹œë¥¼ ë‹´ì€ í…ìŠ¤íŠ¸ íŒŒì¼!
cat .git/refs/heads/main
```

```output
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
```

ë¸Œëœì¹˜ì˜ ì‹¤ì²´ëŠ” ì´ê²Œ ì „ë¶€ì…ë‹ˆë‹¤ â€” ì»¤ë°‹ í•´ì‹œ í•˜ë‚˜ë¥¼ ë‹´ì€ **41ë°”ì´íŠ¸ì§œë¦¬ í…ìŠ¤íŠ¸ íŒŒì¼**. ì´ê²ƒì´ "Gitì˜ ë¸Œëœì¹˜ëŠ” ê°€ë³ë‹¤"ë¼ê³  í•˜ëŠ” ì´ìœ ì—ìš”.

**HEAD â€” í˜„ì¬ ìœ„ì¹˜**:

```bash
# HEADëŠ” ë³´í†µ ë¸Œëœì¹˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹¬ë³¼ë¦­ ì°¸ì¡°
cat .git/HEAD
```

```output
ref: refs/heads/main
```

```bash
# Detached HEADì¼ ë•ŒëŠ” ì»¤ë°‹ í•´ì‹œë¥¼ ì§ì ‘ ê°€ë¦¬í‚´
git checkout abc1234
cat .git/HEAD
```

```output
abc1234567890abcdef1234567890abcdef123456
```

> âš ï¸ **í”í•œ ì˜¤í•´**: "ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ë©´ íŒŒì¼ì´ ë³µì‚¬ëœë‹¤" â€” ì „í˜€ ì•„ë‹™ë‹ˆë‹¤! ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ë©´ 41ë°”ì´íŠ¸ì§œë¦¬ í…ìŠ¤íŠ¸ íŒŒì¼ í•˜ë‚˜ê°€ ìƒê¸¸ ë¿ì´ì—ìš”. ëª¨ë“  íŒŒì¼ ë°ì´í„°ëŠ” objectsì— í•œ ë²ˆë§Œ ì €ì¥ë©ë‹ˆë‹¤.

### ê°œë… 5: DAG â€” ì»¤ë°‹ì˜ ê·¸ë˜í”„ êµ¬ì¡°

Gitì˜ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ëŠ” **DAG(Directed Acyclic Graph, ë°©í–¥ì„± ë¹„ìˆœí™˜ ê·¸ë˜í”„)**ì…ë‹ˆë‹¤.

> ğŸ’¡ **ë¹„ìœ **: DAGëŠ” **ê°€ê³„ë„**ì™€ ê°™ìŠµë‹ˆë‹¤. ìì‹ì€ ë¶€ëª¨ë¥¼ ê°€ë¦¬í‚¤ì§€ë§Œ(ë°©í–¥ì„±), ìê¸° ìì‹ ì˜ ì¡°ìƒì´ ë  ìˆ˜ëŠ” ì—†ì£ (ë¹„ìˆœí™˜). ì»¤ë°‹ë„ ë§ˆì°¬ê°€ì§€ â€” ë¶€ëª¨ ì»¤ë°‹ì„ ê°€ë¦¬í‚¤ì§€ë§Œ, ìˆœí™˜ êµ¬ì¡°ëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

| ì»¤ë°‹ ìœ í˜• | ë¶€ëª¨ ìˆ˜ | ì„¤ëª… |
|-----------|--------|------|
| ë£¨íŠ¸ ì»¤ë°‹ | 0 | ì²« ë²ˆì§¸ ì»¤ë°‹ (ë¶€ëª¨ ì—†ìŒ) |
| ì¼ë°˜ ì»¤ë°‹ | 1 | ëŒ€ë¶€ë¶„ì˜ ì»¤ë°‹ |
| ë¨¸ì§€ ì»¤ë°‹ | 2+ | ë¸Œëœì¹˜ í•©ë¥˜ ì§€ì  |

```bash
# DAG ì‹œê°í™”
git log --oneline --graph --all
```

```output
*   a1b2c3d (HEAD -> main) Merge branch 'feature'
|\
| * e4f5g6h Add new API
| * h7i8j9k Create endpoint
|/
* k0l1m2n Previous commit
* n3o4p5q Initial commit
```

DAG êµ¬ì¡° ë•ë¶„ì— Gitì€ "ì´ ì»¤ë°‹ì—ì„œ ì € ì»¤ë°‹ê¹Œì§€ ë„ë‹¬í•  ìˆ˜ ìˆëŠ”ê°€?"ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ íŒë‹¨í•  ìˆ˜ ìˆê³ , ì´ê²ƒì´ fast-forward íŒë‹¨, merge-base ê³„ì‚° ë“±ì˜ ê¸°ë°˜ì´ ë©ë‹ˆë‹¤.

### ê°œë… 6: Packfile â€” íš¨ìœ¨ì ì¸ ì €ì¥

ë§¤ íŒŒì¼ë§ˆë‹¤ ê°œë³„ ê°ì²´(loose object)ë¡œ ì €ì¥í•˜ë©´ ê³µê°„ ë‚­ë¹„ê°€ ì‹¬í•©ë‹ˆë‹¤. Gitì€ **packfile**ë¡œ ì´ë¥¼ í•´ê²°í•©ë‹ˆë‹¤.

```bash
# ì €ì¥ì†Œì˜ ê°ì²´ í†µê³„ í™•ì¸
git count-objects -v
```

```output
count: 25                    # ëŠìŠ¨í•œ(loose) ê°ì²´ ìˆ˜
size: 120                    # loose ê°ì²´ í¬ê¸° (KB)
in-pack: 3840                # packfile ì•ˆì˜ ê°ì²´ ìˆ˜
packs: 2                     # packfile ê°œìˆ˜
size-pack: 8420              # packfile í¬ê¸° (KB)
```

**Packfileì˜ í•µì‹¬ ì›ë¦¬ â€” ë¸íƒ€ ì••ì¶•**:

ê°™ì€ íŒŒì¼ì˜ v1, v2, v3ì´ ìˆë‹¤ë©´, v3ì˜ ì „ì²´ ë‚´ìš©ì„ ì €ì¥í•˜ê³  v2ì™€ v1ì€ **"v3ê³¼ì˜ ì°¨ì´ì "**ë§Œ ì €ì¥í•©ë‹ˆë‹¤. ì´ "ë¸íƒ€ ì²´ì¸" ë•ë¶„ì— ìˆ˜ì²œ ê°œì˜ íŒŒì¼ ë²„ì „ë„ ë§¤ìš° ì‘ì€ ê³µê°„ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.

```bash
# ìˆ˜ë™ìœ¼ë¡œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì‹¤í–‰ (loose â†’ packfile ë³€í™˜)
git gc

# packfile ë‚´ìš© í™•ì¸
git verify-pack -v .git/objects/pack/*.idx | head -10
```

**ê°€ë¹„ì§€ ì»¬ë ‰ì…˜(GC)**:

Gitì€ ì •ê¸°ì ìœ¼ë¡œ `git gc`ë¥¼ ìë™ ì‹¤í–‰í•˜ì—¬:
1. loose ê°ì²´ë¥¼ packfileë¡œ ë¬¶ê³ 
2. ë„ë‹¬ ë¶ˆê°€ëŠ¥í•œ(unreachable) ì˜¤ë˜ëœ ê°ì²´ë¥¼ ì‚­ì œí•˜ê³ 
3. reflog ë§Œë£Œ í•­ëª©ì„ ì •ë¦¬í•©ë‹ˆë‹¤

| GC ì„¤ì • | ê¸°ë³¸ê°’ | ì˜ë¯¸ |
|---------|--------|------|
| `gc.auto` | 6,700 | loose ê°ì²´ê°€ ì´ ìˆ˜ë¥¼ ë„˜ìœ¼ë©´ ìë™ GC |
| `gc.autoPackLimit` | 50 | packfileì´ ì´ ìˆ˜ë¥¼ ë„˜ìœ¼ë©´ ìë™ repack |
| `gc.pruneExpire` | 2ì£¼ | ì´ë³´ë‹¤ ì˜¤ë˜ëœ unreachable ê°ì²´ ì‚­ì œ |

## ì‹¤ìŠµ: ì§ì ‘ í•´ë³´ê¸°

```bash
# 1. ìƒˆ ì €ì¥ì†Œì—ì„œ Git ë‚´ë¶€ íƒí—˜
mkdir internals-lab && cd internals-lab
git init

# 2. ì²« íŒŒì¼ ë§Œë“¤ê¸°
echo "Hello, Git internals!" > hello.txt
git add hello.txt

# 3. blob ê°ì²´ê°€ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ í™•ì¸
find .git/objects -type f | head -5

# 4. í•´ë‹¹ blobì˜ ë‚´ìš© ë³´ê¸°
git cat-file -t $(git hash-object hello.txt)
git cat-file -p $(git hash-object hello.txt)
```

```output
blob
Hello, Git internals!
```

```bash
# 5. ì»¤ë°‹í•˜ê³  treeì™€ commit ê°ì²´ í™•ì¸
git commit -m "First commit"
git cat-file -p HEAD       # commit ê°ì²´
git cat-file -p HEAD^{tree}  # tree ê°ì²´
```

```output
tree b3c4d5e6f7...
author Jason <jason@email.com> 1707984000 +0900
committer Jason <jason@email.com> 1707984000 +0900

First commit
```

```bash
# 6. ë¸Œëœì¹˜ì˜ ì‹¤ì²´ í™•ì¸
cat .git/HEAD
cat .git/refs/heads/main

# 7. ë‘ ë²ˆì§¸ ì»¤ë°‹ í›„ DAG êµ¬ì¡° í™•ì¸
echo "Update" >> hello.txt
git add . && git commit -m "Second commit"
git log --oneline --graph
```

## ë” ê¹Šì´ ì•Œì•„ë³´ê¸°

### Linus Torvaldsì™€ Gitì˜ ì„¤ê³„ ì² í•™

2005ë…„ Linus TorvaldsëŠ” Gitì„ ì„¤ê³„í•  ë•Œ í•µì‹¬ ì›ì¹™ì„ ì„¸ì› ìŠµë‹ˆë‹¤:

1. **ì½˜í…ì¸  ì£¼ì†Œ ì§€ì •(Content-addressable)**: íŒŒì¼ ì´ë¦„ì´ ì•„ë‹ˆë¼ **ë‚´ìš©ì˜ í•´ì‹œ**ë¡œ ì‹ë³„
2. **ë¶ˆë³€ì„±(Immutability)**: í•œë²ˆ ë§Œë“¤ì–´ì§„ ê°ì²´ëŠ” ì ˆëŒ€ ë³€í•˜ì§€ ì•ŠìŒ
3. **ë¶„ì‚°(Distribution)**: ëª¨ë“  í´ë¡ ì´ ì „ì²´ íˆìŠ¤í† ë¦¬ë¥¼ ê°€ì§

LinusëŠ” "Gitì€ íŒŒì¼ ì‹œìŠ¤í…œì´ë‹¤. ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì€ ê·¸ ìœ„ì— ì˜¬ë¦° ê²ƒ"ì´ë¼ê³  ë§í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ Gitì˜ ë‚´ë¶€ êµ¬ì¡°ëŠ” **í‚¤-ê°’ ì €ì¥ì†Œ(key-value store)**ì— ê°€ê¹ìŠµë‹ˆë‹¤. í•´ì‹œê°€ í‚¤ì´ê³ , ì••ì¶•ëœ ê°ì²´ ë°ì´í„°ê°€ ê°’ì´ì£ .

> ğŸ’¡ **ì•Œê³  ê³„ì…¨ë‚˜ìš”?**: Gitì˜ ì´ˆê¸° ì½”ë“œëŠ” Linusê°€ **ë‹¨ 2ì£¼ ë§Œì—** ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì»¤ë°‹(2005ë…„ 4ì›” 7ì¼)ë¶€í„° ìì²´ í˜¸ìŠ¤íŒ…(Gitìœ¼ë¡œ Gitì„ ê´€ë¦¬)ê¹Œì§€ ë‹¨ 4ì¼ë°–ì— ê±¸ë¦¬ì§€ ì•Šì•˜ì–´ìš”. ì´ ë†€ë¼ìš´ ì†ë„ëŠ” ë‚´ë¶€ êµ¬ì¡°ì˜ ë‹¨ìˆœí•¨ ë•ë¶„ì´ì—ˆìŠµë‹ˆë‹¤.

### Git 3.0ê³¼ ë¯¸ë˜ì˜ ë³€í™”

Gitì€ 2026ë…„ ë§ **Git 3.0** ë¦´ë¦¬ìŠ¤ë¥¼ ëª©í‘œë¡œ í° ë³€í™”ë¥¼ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤:

- **SHA-256 ê¸°ë³¸ê°’ ì „í™˜**: ìƒˆë¡œ ë§Œë“œëŠ” ì €ì¥ì†Œì˜ ê¸°ë³¸ í•´ì‹œê°€ SHA-1ì—ì„œ SHA-256ìœ¼ë¡œ ë³€ê²½
- **Reftable ê¸°ë³¸ê°’ ì „í™˜**: refs ì €ì¥ ë°©ì‹ì´ í…ìŠ¤íŠ¸ íŒŒì¼ì—ì„œ ë°”ì´ë„ˆë¦¬ reftable í˜•ì‹ìœ¼ë¡œ ë³€ê²½. ëŒ€ê·œëª¨ ì €ì¥ì†Œì—ì„œ ìˆ˜ ë°° ì´ìƒ ë¹¨ë¼ì§‘ë‹ˆë‹¤
- **Rust ì½”ë“œ ë„ì…**: Git 2.49ë¶€í„° Rust FFIê°€ ë„ì…ë˜ì–´ ì ì§„ì ìœ¼ë¡œ ì½”ë“œë² ì´ìŠ¤ê°€ í˜„ëŒ€í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤

ê¸°ì¡´ SHA-1 ì €ì¥ì†Œì™€ì˜ í˜¸í™˜ì„±ì€ ê³„ì† ìœ ì§€ë˜ë¯€ë¡œ, ê¸°ì¡´ í”„ë¡œì íŠ¸ê°€ ê°‘ìê¸° ê¹¨ì§ˆ ê±±ì •ì€ ì—†ìŠµë‹ˆë‹¤.

## í”í•œ ì˜¤í•´ì™€ íŒ

> âš ï¸ **í”í•œ ì˜¤í•´**: "Gitì€ íŒŒì¼ì˜ 'ë³€ê²½ ì‚¬í•­(diff)'ì„ ì €ì¥í•œë‹¤" â€” ì•„ë‹™ë‹ˆë‹¤! Gitì€ ë§¤ ì»¤ë°‹ë§ˆë‹¤ **ì „ì²´ ìŠ¤ëƒ…ìƒ·(snapshot)**ì„ ì €ì¥í•©ë‹ˆë‹¤. ë³€í•˜ì§€ ì•Šì€ íŒŒì¼ì€ ì´ì „ blobì„ ì¬ì°¸ì¡°í•˜ê³ , ë³€í•œ íŒŒì¼ë§Œ ìƒˆ blobì´ ë§Œë“¤ì–´ì ¸ìš”. diffëŠ” ì €ì¥ì´ ì•„ë‹ˆë¼ **ë¹„êµ ì‹œ ê³„ì‚°**ë˜ëŠ” ê²ë‹ˆë‹¤.

> âš ï¸ **í”í•œ ì˜¤í•´**: "í° íŒŒì¼ì„ ì»¤ë°‹í•˜ë©´ íˆìŠ¤í† ë¦¬ê°€ ë¬´ê±°ì›Œì§„ë‹¤" â€” ë¶€ë¶„ì ìœ¼ë¡œ ë§ì§€ë§Œ, packfileì˜ ë¸íƒ€ ì••ì¶• ë•ë¶„ì— **ë¹„ìŠ·í•œ íŒŒì¼ì€ íš¨ìœ¨ì ìœ¼ë¡œ ì••ì¶•**ë©ë‹ˆë‹¤. ë‹¤ë§Œ ë°”ì´ë„ˆë¦¬ íŒŒì¼(ì´ë¯¸ì§€, ë™ì˜ìƒ)ì€ ë¸íƒ€ ì••ì¶• íš¨ê³¼ê°€ ì ì–´ì„œ, ì´ëŸ° íŒŒì¼ì—ëŠ” [Git LFS](../12-troubleshooting/02-large-repos.md)ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: `git cat-file -p`ëŠ” Git ë‚´ë¶€ë¥¼ íƒí—˜í•˜ëŠ” **ë§ŒëŠ¥ ì—´ì‡ **ì…ë‹ˆë‹¤. ì»¤ë°‹, íŠ¸ë¦¬, blob, íƒœê·¸ â€” ì–´ë–¤ ê°ì²´ë“  ì´ ëª…ë ¹ìœ¼ë¡œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆì–´ìš”. ë¬¸ì œ í•´ê²° ì‹œ "ì´ ì»¤ë°‹ì— ì‹¤ì œë¡œ ë­ê°€ ë“¤ì–´ìˆì§€?"ë¥¼ í™•ì¸í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: `git fsck` ëª…ë ¹ìœ¼ë¡œ ì €ì¥ì†Œì˜ ë¬´ê²°ì„±ì„ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ì²´ê°€ ì†ìƒë˜ê±°ë‚˜ ì—°ê²°ì´ ëŠì–´ì§„ "ê³ ì•„ ê°ì²´"ë¥¼ ì°¾ì•„ì¤˜ìš”. ì €ì¥ì†Œê°€ ì´ìƒí•˜ê²Œ ë™ì‘í•œë‹¤ë©´ `git fsck --full`ì„ í•œë²ˆ ì‹¤í–‰í•´ë³´ì„¸ìš”.

## í•µì‹¬ ì •ë¦¬

| ê°œë… | ì„¤ëª… |
|------|------|
| **Blob** | íŒŒì¼ ë‚´ìš©ë§Œ ì €ì¥ (ì´ë¦„ ì—†ìŒ) |
| **Tree** | ë””ë ‰í† ë¦¬ êµ¬ì¡° (blob/treeì˜ ëª©ë¡) |
| **Commit** | ìŠ¤ëƒ…ìƒ·(tree) + ë¶€ëª¨ + ë©”íƒ€ë°ì´í„° |
| **Tag** | íŠ¹ì • ê°ì²´ì— ì´ë¦„í‘œ ë¶™ì´ê¸° |
| **SHA í•´ì‹œ** | `{íƒ€ì…} {í¬ê¸°}\0{ë‚´ìš©}` â†’ SHA-1 (40ì) |
| **Refs** | í•´ì‹œë¥¼ ë‹´ì€ í…ìŠ¤íŠ¸ íŒŒì¼ (ë¸Œëœì¹˜, íƒœê·¸) |
| **HEAD** | í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹¬ë³¼ë¦­ ì°¸ì¡° |
| **DAG** | ì»¤ë°‹ì˜ ë°©í–¥ì„± ë¹„ìˆœí™˜ ê·¸ë˜í”„ êµ¬ì¡° |
| **Packfile** | ë¸íƒ€ ì••ì¶•ìœ¼ë¡œ ê°ì²´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥ |
| **GC** | ì˜¤ë˜ëœ ê°ì²´ ì •ë¦¬ + packfile ìµœì í™” |

## ë‹¤ìŒ ì„¹ì…˜ ë¯¸ë¦¬ë³´ê¸°

Ch9ì—ì„œ Gitì˜ ê³ ê¸‰ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ì™€ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ëª¨ë‘ ì‚´í´ë´¤ìŠµë‹ˆë‹¤! ë‹¤ìŒ ì±•í„° [Ch10. GitHub Actionsì™€ ìë™í™”](../10-github-actions/01-actions-intro.md)ì—ì„œëŠ” Gitì˜ ì„¸ê³„ë¥¼ ë„˜ì–´ **CI/CD ìë™í™”**ì˜ ì˜ì—­ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤. ì½”ë“œë¥¼ pushí•˜ë©´ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ë°°í¬í•˜ëŠ” ì›Œí¬í”Œë¡œìš°ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

## ì°¸ê³  ìë£Œ

- [Pro Git Book â€” Git Internals](https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain) - Git ë‚´ë¶€ë¥¼ ê°€ì¥ ì˜ ì„¤ëª…í•œ ì±•í„°
- [Pro Git Book â€” Git Objects](https://git-scm.com/book/en/v2/Git-Internals-Git-Objects) - 4ê°€ì§€ ê°ì²´ íƒ€ì… ìƒì„¸ ì„¤ëª…
- [Git ê³µì‹ ë¬¸ì„œ â€” gitrepository-layout](https://git-scm.com/docs/gitrepository-layout) - .git ë””ë ‰í† ë¦¬ êµ¬ì¡° ë ˆí¼ëŸ°ìŠ¤
- [Git ê³µì‹ ë¬¸ì„œ â€” hash-function-transition](https://git-scm.com/docs/hash-function-transition) - SHA-256 ì „í™˜ ê³„íš
- [Git for Computer Scientists](https://eagain.net/articles/git-for-computer-scientists/) - DAG ê´€ì ì—ì„œ ë³¸ Git (ê°„ê²°í•œ ëª…ë¬¸)
