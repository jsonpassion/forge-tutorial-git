# ëª¨ë…¸ë ˆí¬ì™€ ì„œë¸Œëª¨ë“ˆ

> monorepo vs multi-repo, submodule, subtree, ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸

## ê°œìš”

í”„ë¡œì íŠ¸ê°€ ì»¤ì§€ë©´ **"ì½”ë“œë¥¼ ì–´ë–»ê²Œ êµ¬ì¡°í™”í•  ê²ƒì¸ê°€?"**ë¼ëŠ” ì§ˆë¬¸ì´ ìƒê¹ë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œ, ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í•˜ë‚˜ì˜ ì €ì¥ì†Œì— ë„£ì„ê¹Œ, ê°ê° ë¶„ë¦¬í• ê¹Œ? ë‹¤ë¥¸ íŒ€ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ë‹¤ ì“¸ ë•Œ ì–´ë–»ê²Œ ê´€ë¦¬í• ê¹Œ? ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” **ëª¨ë…¸ë ˆí¬**, **ë©€í‹°ë ˆí¬**, **ì„œë¸Œëª¨ë“ˆ**, **ì„œë¸ŒíŠ¸ë¦¬** â€” ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì˜ ì €ì¥ì†Œ ì „ëµì„ ë°°ì›ë‹ˆë‹¤.

**ì„ ìˆ˜ ì§€ì‹**: [ì›ê²© ì €ì¥ì†Œ ê°œë…](../04-remote/01-remote-concept.md), [cloneê³¼ fork](../04-remote/02-clone-fork.md)ì—ì„œ ë°°ìš´ ì›ê²© ì €ì¥ì†Œ ê´€ë¦¬
**í•™ìŠµ ëª©í‘œ**:
- ëª¨ë…¸ë ˆí¬ì™€ ë©€í‹°ë ˆí¬ì˜ ì°¨ì´ì™€ ì¥ë‹¨ì ì„ ì´í•´í•œë‹¤
- Git submoduleì˜ ê¸°ë³¸ ëª…ë ¹ì–´ì™€ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- Git subtreeì™€ submoduleì˜ ì°¨ì´ë¥¼ íŒë³„í•  ìˆ˜ ìˆë‹¤
- í”„ë¡œì íŠ¸ì— ì í•©í•œ ì €ì¥ì†Œ ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤

## ì™œ ì•Œì•„ì•¼ í• ê¹Œ?

ìŠ¤íƒ€íŠ¸ì—…ì´ ì„±ì¥í•˜ë©´ ì½”ë“œë² ì´ìŠ¤ë„ ì»¤ì§‘ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” í•˜ë‚˜ì˜ ì €ì¥ì†Œì— ëª¨ë“  ì½”ë“œë¥¼ ë„£ì—ˆëŠ”ë°, íŒ€ì´ 10ëª…, 20ëª…ìœ¼ë¡œ ëŠ˜ë©´ì„œ ë¬¸ì œê°€ ìƒê¸°ê¸° ì‹œì‘í•©ë‹ˆë‹¤ â€” CIê°€ ëŠë ¤ì§€ê³ , ê´€ë ¨ ì—†ëŠ” ë³€ê²½ ì•Œë¦¼ì´ ìŸì•„ì§€ê³ , ë°°í¬ ë‹¨ìœ„ê°€ ëª¨í˜¸í•´ì§€ì£ . ë°˜ëŒ€ë¡œ ì €ì¥ì†Œë¥¼ ë„ˆë¬´ ì˜ê²Œ ë‚˜ëˆ„ë©´ ê³µí†µ ì½”ë“œ ë™ê¸°í™”, ë²„ì „ ê´€ë¦¬, ì˜ì¡´ì„± ë¬¸ì œê°€ ìƒê¹ë‹ˆë‹¤.

Google, Meta, Microsoft ê°™ì€ ë¹…í…Œí¬ ê¸°ì—…ë“¤ì´ ì™œ ëª¨ë…¸ë ˆí¬ë¥¼ ì„ íƒí–ˆëŠ”ì§€, ë°˜ëŒ€ë¡œ Netflix, Amazonì´ ì™œ ë©€í‹°ë ˆí¬ë¥¼ ì„ í˜¸í•˜ëŠ”ì§€ â€” ê°ê°ì˜ ì´ìœ ë¥¼ ì´í•´í•˜ë©´ ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ì—ë„ ì˜¬ë°”ë¥¸ ì„ íƒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í•µì‹¬ ê°œë…

### ê°œë… 1: ëª¨ë…¸ë ˆí¬ vs ë©€í‹°ë ˆí¬

> ğŸ’¡ **ë¹„ìœ **: **ëª¨ë…¸ë ˆí¬**ëŠ” **ëŒ€í˜• ë°±í™”ì **ê³¼ ê°™ìŠµë‹ˆë‹¤. ì˜ë¥˜, ì‹í’ˆ, ì „ìì œí’ˆì´ í•œ ê±´ë¬¼ì— ìˆì–´ì„œ ê´€ë¦¬ê°€ ì¼ì›í™”ë˜ê³ , ê³ ê°(ê°œë°œì)ì€ í•œ ê³³ì—ì„œ ëª¨ë“  ê²ƒì„ ì°¾ì„ ìˆ˜ ìˆì£ . **ë©€í‹°ë ˆí¬**ëŠ” **ì „ë¬¸ ë§¤ì¥ ê±°ë¦¬**ì™€ ê°™ìŠµë‹ˆë‹¤. ê° ë§¤ì¥ì´ ë…ë¦½ì ìœ¼ë¡œ ìš´ì˜ë˜ì–´ ììœ¨ì„±ì´ ë†’ì§€ë§Œ, ê±´ë¬¼ ê°„ ì´ë™(ì €ì¥ì†Œ ê°„ ì˜ì¡´ì„±)ì´ í•„ìš”í•©ë‹ˆë‹¤.

**ëª¨ë…¸ë ˆí¬(Monorepo)**: ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ **í•˜ë‚˜ì˜ ì €ì¥ì†Œ**ì— ê´€ë¦¬

```
my-company/                    â† í•˜ë‚˜ì˜ Git ì €ì¥ì†Œ
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                   â† í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ api/                   â† ë°±ì—”ë“œ API
â”‚   â””â”€â”€ mobile/                â† ëª¨ë°”ì¼ ì•±
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ui/                    â† ê³µìœ  UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ utils/                 â† ê³µìœ  ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ config/                â† ê³µìœ  ì„¤ì •
â””â”€â”€ package.json
```

**ë©€í‹°ë ˆí¬(Multi-repo)**: í”„ë¡œì íŠ¸ë³„ **ë³„ë„ ì €ì¥ì†Œ**

```
my-company-web/                â† ë³„ë„ Git ì €ì¥ì†Œ
my-company-api/                â† ë³„ë„ Git ì €ì¥ì†Œ
my-company-mobile/             â† ë³„ë„ Git ì €ì¥ì†Œ
my-company-ui-lib/             â† ë³„ë„ Git ì €ì¥ì†Œ
my-company-utils/              â† ë³„ë„ Git ì €ì¥ì†Œ
```

**ë¹„êµ**:

| ê¸°ì¤€ | ëª¨ë…¸ë ˆí¬ | ë©€í‹°ë ˆí¬ |
|------|---------|---------|
| **ì½”ë“œ ê³µìœ ** | ì§ì ‘ import (ì¦‰ì‹œ ë°˜ì˜) | npm/íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ ë²„ì „ ê´€ë¦¬ |
| **CI/CD** | ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë¹Œë“œ í•„ìš” (ë³µì¡) | ì €ì¥ì†Œë³„ ë…ë¦½ íŒŒì´í”„ë¼ì¸ (ë‹¨ìˆœ) |
| **ì˜ì¡´ì„±** | í•­ìƒ ìµœì‹  (ê°•ì œ ë™ê¸°í™”) | ê°ì ë²„ì „ ì„ íƒ (ìœ ì—°) |
| **íŒ€ ììœ¨ì„±** | ì „ì‚¬ ê·œì¹™ ê³µìœ  (ì¼ê´€ì„± â†‘) | íŒ€ë³„ ë…ë¦½ ìš´ì˜ (ììœ¨ì„± â†‘) |
| **ì €ì¥ì†Œ í¬ê¸°** | ì»¤ì§ˆ ìˆ˜ ìˆìŒ (ì„±ëŠ¥ ì´ìŠˆ) | ì‘ê³  ê°€ë²¼ì›€ |
| **Atomic ì»¤ë°‹** | ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ í•œ ì»¤ë°‹ìœ¼ë¡œ | ê° í”„ë¡œì íŠ¸ë³„ ë³„ë„ ì»¤ë°‹ |
| **ëŒ€í‘œ ê¸°ì—…** | Google, Meta, Microsoft, Uber | Netflix, Amazon, Spotify |

> âš ï¸ **í”í•œ ì˜¤í•´**: "Googleì´ ëª¨ë…¸ë ˆí¬ë¥¼ ì“°ë‹ˆê¹Œ ëª¨ë…¸ë ˆí¬ê°€ ë” ì¢‹ë‹¤" â€” ê¼­ ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤! Googleì€ ìì²´ ë¹Œë“œ ë„êµ¬(Bazel), ì½”ë“œ ê²€ìƒ‰ ì—”ì§„(Code Search), ê°€ìƒ íŒŒì¼ì‹œìŠ¤í…œ(CitC) ë“± **ëª¨ë…¸ë ˆí¬ë¥¼ ìœ„í•œ ì „ìš© ì¸í”„ë¼**ë¥¼ ë³´ìœ í•˜ê³  ìˆì–´ìš”. ì´ëŸ° ë„êµ¬ ì—†ì´ ëª¨ë…¸ë ˆí¬ë¥¼ ë„ì…í•˜ë©´ ì˜¤íˆë ¤ ë” ë¶ˆí¸í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê°œë… 2: ëª¨ë…¸ë ˆí¬ ë„êµ¬

ì¼ë°˜ì ì¸ Gitìœ¼ë¡œë„ ëª¨ë…¸ë ˆí¬ë¥¼ ìš´ì˜í•  ìˆ˜ ìˆì§€ë§Œ, **ë¹Œë“œ ìµœì í™”ì™€ ì˜ì¡´ì„± ê´€ë¦¬**ë¥¼ ìœ„í•´ ì „ìš© ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ í›¨ì”¬ íš¨ìœ¨ì ì…ë‹ˆë‹¤.

| ë„êµ¬ | íŠ¹ì§• | ì£¼ìš” ê¸°ëŠ¥ |
|------|------|----------|
| **Nx** (v22.4) | Nrwl ê°œë°œ, ë²”ìš© | íŒŒì¼ ìˆ˜ì¤€ ì˜í–¥ ë¶„ì„, ì›ê²© ìºì‹±, ì½”ë“œ ìƒì„±, AI ëª¨ë“œ |
| **Turborepo** (v2.3+) | Vercel ê°œë°œ, Rust ê¸°ë°˜ | ì›ê²© ìºì‹±, íŒŒì´í”„ë¼ì¸ ì •ì˜, ë¹ ë¥¸ ì„±ëŠ¥ |
| **Lerna** (v8) | ì›ì¡° ë„êµ¬ (Nxê°€ ê´€ë¦¬) | npm íŒ¨í‚¤ì§€ í¼ë¸”ë¦¬ì‹±ì— íŠ¹í™” |
| **Bazel** | Google ê°œë°œ, ëŒ€ê·œëª¨ | ë‹¤êµ­ì–´ ì§€ì›, ì¬í˜„ ê°€ëŠ¥í•œ ë¹Œë“œ |
| **pnpm workspaces** | íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ë‚´ì¥ | ë¹ ë¥¸ ì„¤ì¹˜, ë””ìŠ¤í¬ ì ˆì•½ |

```bash
# Turborepoë¡œ ëª¨ë…¸ë ˆí¬ ì‹œì‘
npx create-turbo@latest my-monorepo

# í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸
cd my-monorepo && ls
```

```output
apps/     packages/     turbo.json     package.json
```

```json
// turbo.json â€” ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ì •ì˜
{
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"]
    },
    "test": {
      "dependsOn": ["build"]
    },
    "lint": {}
  }
}
```

```bash
# ë³€ê²½ëœ íŒ¨í‚¤ì§€ë§Œ ë¹Œë“œ (í•µì‹¬ ê¸°ëŠ¥!)
npx turbo run build --filter=...[HEAD~1]
```

**GitHub Actionsì—ì„œ ëª¨ë…¸ë ˆí¬ ìµœì í™”** â€” [ì›Œí¬í”Œë¡œìš° ì‘ì„±](../10-github-actions/02-workflow-yaml.md)ì—ì„œ ë°°ìš´ ê²½ë¡œ í•„í„°ì™€ ê²°í•©:

```yaml
# í”„ë¡ íŠ¸ì—”ë“œê°€ ë³€ê²½ë  ë•Œë§Œ í”„ë¡ íŠ¸ì—”ë“œ CI ì‹¤í–‰
name: Frontend CI
on:
  push:
    paths:
      - 'apps/web/**'
      - 'packages/ui/**'
      - 'packages/utils/**'
```

### ê°œë… 3: Git Submodule â€” ë‹¤ë¥¸ ì €ì¥ì†Œë¥¼ ì°¸ì¡°

> ğŸ’¡ **ë¹„ìœ **: ì„œë¸Œëª¨ë“ˆì€ **ì±… ì†ì˜ ì°¸ê³  ë¬¸í—Œ**ê³¼ ê°™ìŠµë‹ˆë‹¤. ì±… ë³¸ë¬¸ì— "ìì„¸í•œ ë‚´ìš©ì€ Smith(2020) ì°¸ì¡°"ë¼ê³  ì ì–´ë‘ë©´, ë…ìëŠ” í•´ë‹¹ ë…¼ë¬¸ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆì£ . ì„œë¸Œëª¨ë“ˆë„ ë§ˆì°¬ê°€ì§€ â€” ë©”ì¸ ì €ì¥ì†Œì— "ì´ ë””ë ‰í† ë¦¬ëŠ” ë‹¤ë¥¸ ì €ì¥ì†Œë¥¼ ì°¸ì¡°"ë¼ê³  ê¸°ë¡í•´ë‘ê³ , í•„ìš”í•  ë•Œ í•´ë‹¹ ì €ì¥ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

ì„œë¸Œëª¨ë“ˆì€ **í•˜ë‚˜ì˜ Git ì €ì¥ì†Œ ì•ˆì— ë‹¤ë¥¸ Git ì €ì¥ì†Œ**ë¥¼ í¬í•¨í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë©”ì¸ í”„ë¡œì íŠ¸ê°€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ **íŠ¹ì • ë²„ì „**ìœ¼ë¡œ ê³ ì •í•´ì„œ ì‚¬ìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

```bash
# ì„œë¸Œëª¨ë“ˆ ì¶”ê°€
git submodule add https://github.com/team/shared-ui.git libs/shared-ui
```

```output
Cloning into '/Users/you/project/libs/shared-ui'...
remote: Enumerating objects: 156, done.
remote: Counting objects: 100% (156/156), done.
```

```bash
# .gitmodules íŒŒì¼ì´ ìë™ ìƒì„±ë¨
cat .gitmodules
```

```output
[submodule "libs/shared-ui"]
	path = libs/shared-ui
	url = https://github.com/team/shared-ui.git
```

```bash
# í˜„ì¬ ì„œë¸Œëª¨ë“ˆ ìƒíƒœ í™•ì¸
git submodule status
```

```output
 a1b2c3d4e5f6 libs/shared-ui (v2.1.0)
```

**ì„œë¸Œëª¨ë“ˆ ì£¼ìš” ëª…ë ¹ì–´**:

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `git submodule add <url> <path>` | ì„œë¸Œëª¨ë“ˆ ì¶”ê°€ |
| `git submodule init` | ì„œë¸Œëª¨ë“ˆ ì„¤ì • ì´ˆê¸°í™” (clone í›„) |
| `git submodule update` | ì„œë¸Œëª¨ë“ˆì„ ê¸°ë¡ëœ ì»¤ë°‹ìœ¼ë¡œ ì²´í¬ì•„ì›ƒ |
| `git submodule update --init --recursive` | ì´ˆê¸°í™” + ì—…ë°ì´íŠ¸ (í•œ ë²ˆì—) |
| `git submodule update --remote` | ì„œë¸Œëª¨ë“ˆì„ ì›ê²© ìµœì‹  ì»¤ë°‹ìœ¼ë¡œ ì—…ë°ì´íŠ¸ |
| `git submodule foreach <command>` | ëª¨ë“  ì„œë¸Œëª¨ë“ˆì— ëª…ë ¹ ì‹¤í–‰ |
| `git submodule deinit <path>` | ì„œë¸Œëª¨ë“ˆ ë¹„í™œì„±í™” |
| `git submodule sync` | URL ë³€ê²½ í›„ ë™ê¸°í™” |

**ì„œë¸Œëª¨ë“ˆì´ ìˆëŠ” ì €ì¥ì†Œ clone**:

```bash
# ë°©ë²• 1: clone í›„ ì´ˆê¸°í™”
git clone https://github.com/team/main-project.git
cd main-project
git submodule update --init --recursive

# ë°©ë²• 2: clone ì‹œ í•œ ë²ˆì— (ì¶”ì²œ)
git clone --recurse-submodules https://github.com/team/main-project.git
```

**ì„œë¸Œëª¨ë“ˆ ì—…ë°ì´íŠ¸**:

```bash
# ì„œë¸Œëª¨ë“ˆì˜ ìµœì‹  ì»¤ë°‹ ê°€ì ¸ì˜¤ê¸°
cd libs/shared-ui
git fetch
git switch main
git pull

# ìƒìœ„ í”„ë¡œì íŠ¸ë¡œ ëŒì•„ì™€ì„œ ë³€ê²½ ê¸°ë¡
cd ../..
git add libs/shared-ui
git commit -m "chore: shared-ui ì„œë¸Œëª¨ë“ˆì„ v2.2.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸"
```

> âš ï¸ **í”í•œ ì˜¤í•´**: "ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•˜ë©´ ìë™ìœ¼ë¡œ ìµœì‹  ë²„ì „ì´ ë°˜ì˜ëœë‹¤" â€” ì•„ë‹™ë‹ˆë‹¤! ì„œë¸Œëª¨ë“ˆì€ **íŠ¹ì • ì»¤ë°‹ì— ê³ ì •**ë©ë‹ˆë‹¤. `git submodule update`ëŠ” ë©”ì¸ ì €ì¥ì†Œì— ê¸°ë¡ëœ ì»¤ë°‹ìœ¼ë¡œ ì²´í¬ì•„ì›ƒí•  ë¿ì´ì—ìš”. ìµœì‹  ë²„ì „ì„ ê°€ì ¸ì˜¤ë ¤ë©´ `--remote` ì˜µì…˜ì´ í•„ìš”í•˜ê³ , ìƒìœ„ í”„ë¡œì íŠ¸ì—ì„œ **ìƒˆ ì»¤ë°‹ì„ ë§Œë“¤ì–´ì•¼** ë°˜ì˜ë©ë‹ˆë‹¤.

### ê°œë… 4: Git Subtree â€” ì½”ë“œë¥¼ ì§ì ‘ í¬í•¨

> ğŸ’¡ **ë¹„ìœ **: ì„œë¸Œëª¨ë“ˆì´ "ì°¸ê³  ë¬¸í—Œ ë§í¬"ë¼ë©´, ì„œë¸ŒíŠ¸ë¦¬ëŠ” **"ì „ë¬¸ ì¸ìš©"**ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ë…¼ë¬¸ì˜ ë‚´ìš©ì„ ë‚´ ë…¼ë¬¸ì— ì§ì ‘ í¬í•¨ì‹œí‚¤ëŠ” ê²ƒì²˜ëŸ¼, ë‹¤ë¥¸ ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ ë‚´ ì €ì¥ì†Œì˜ íˆìŠ¤í† ë¦¬ì— ì§ì ‘ ë³‘í•©í•©ë‹ˆë‹¤.

```bash
# ì„œë¸ŒíŠ¸ë¦¬ ì¶”ê°€
git subtree add --prefix=libs/shared-ui \
  https://github.com/team/shared-ui.git main --squash
```

```bash
# ì„œë¸ŒíŠ¸ë¦¬ ì—…ë°ì´íŠ¸ (ì›ê²© ë³€ê²½ ê°€ì ¸ì˜¤ê¸°)
git subtree pull --prefix=libs/shared-ui \
  https://github.com/team/shared-ui.git main --squash
```

```bash
# ì„œë¸ŒíŠ¸ë¦¬ ë³€ê²½ ì‚¬í•­ì„ ì›ê²©ì— ë‹¤ì‹œ í‘¸ì‹œ
git subtree push --prefix=libs/shared-ui \
  https://github.com/team/shared-ui.git main
```

**Submodule vs Subtree ë¹„êµ**:

| ê¸°ì¤€ | Submodule | Subtree |
|------|-----------|---------|
| **ì €ì¥ ë°©ì‹** | ì°¸ì¡°(í¬ì¸í„°)ë§Œ ì €ì¥ | ì½”ë“œë¥¼ ì§ì ‘ ë³µì‚¬ |
| **clone** | `--recurse-submodules` í•„ìš” | ì¶”ê°€ ì„¤ì • ë¶ˆí•„ìš” |
| **ë²„ì „ ê³ ì •** | íŠ¹ì • ì»¤ë°‹ì— ê³ ì • | ê°€ì ¸ì˜¨ ì‹œì ì˜ ì½”ë“œ |
| **íˆìŠ¤í† ë¦¬** | ë¶„ë¦¬ (ì„œë¸Œëª¨ë“ˆ ìì²´ íˆìŠ¤í† ë¦¬) | í†µí•© (ë©”ì¸ íˆìŠ¤í† ë¦¬ì— í¬í•¨) |
| **ì˜¤í”„ë¼ì¸** | ì„œë¸Œëª¨ë“ˆ fetch í•„ìš” | ì´ë¯¸ ì½”ë“œê°€ ìˆìŒ |
| **í•™ìŠµ ê³¡ì„ ** | ë†’ìŒ (ë…íŠ¹í•œ ì›Œí¬í”Œë¡œìš°) | ë‚®ìŒ (mergeì™€ ë¹„ìŠ·) |
| **ì–‘ë°©í–¥ ë™ê¸°í™”** | ë…ë¦½ ì €ì¥ì†Œë¡œ push ê°€ëŠ¥ | push ê°€ëŠ¥í•˜ì§€ë§Œ ë³µì¡ |
| **ì í•©í•œ ìƒí™©** | í™œë°œíˆ ê°œë°œë˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ | ê°€ë” ë™ê¸°í™”í•˜ëŠ” ê³µìœ  ì½”ë“œ |

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: **"ê°„ë‹¨í•˜ë©´ subtree, ì •ë°€í•˜ë©´ submodule"**ì´ ì¢‹ì€ ê¸°ì¤€ì…ë‹ˆë‹¤. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íŠ¹ì • ë²„ì „ì— ê³ ì •í•˜ê³  ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ë©´ submodule, ê³µìœ  ì½”ë“œë¥¼ í”„ë¡œì íŠ¸ì— ì§ì ‘ í¬í•¨í•˜ê³  ë‹¨ìˆœí•˜ê²Œ ê´€ë¦¬í•˜ê³  ì‹¶ìœ¼ë©´ subtreeê°€ ì í•©í•©ë‹ˆë‹¤.

### ê°œë… 5: sparse-checkoutìœ¼ë¡œ ëª¨ë…¸ë ˆí¬ ë¶€ë¶„ ì²´í¬ì•„ì›ƒ

[cloneê³¼ fork](../04-remote/02-clone-fork.md)ì—ì„œ ì ê¹ ì–¸ê¸‰í–ˆë˜ sparse-checkoutì„ ë³¸ê²©ì ìœ¼ë¡œ ë‹¤ë¤„ë´…ì‹œë‹¤. ëª¨ë…¸ë ˆí¬ê°€ ìˆ˜ GBì— ë‹¬í•˜ë©´ ì „ì²´ë¥¼ ì²´í¬ì•„ì›ƒí•  í•„ìš”ê°€ ì—†ê±°ë“ ìš”:

```bash
# 1. ë¶€ë¶„ clone (blob ì—†ì´ íŠ¸ë¦¬ë§Œ)
git clone --filter=blob:none --sparse \
  https://github.com/company/monorepo.git
cd monorepo

# 2. cone ëª¨ë“œë¡œ í•„ìš”í•œ ë””ë ‰í† ë¦¬ë§Œ ì¶”ê°€
git sparse-checkout set apps/web packages/ui

# 3. ì‘ì—… ë””ë ‰í† ë¦¬ í™•ì¸ â€” ì„ íƒí•œ í´ë”ë§Œ ì¡´ì¬
ls
```

```output
apps/     packages/
```

```bash
# 4. ë‚˜ì¤‘ì— ì¶”ê°€ ë””ë ‰í† ë¦¬ê°€ í•„ìš”í•˜ë©´
git sparse-checkout add apps/api

# 5. sparse-checkout íŒ¨í„´ í™•ì¸
git sparse-checkout list
```

```output
apps/web
apps/api
packages/ui
```

## ì‹¤ìŠµ: ì„œë¸Œëª¨ë“ˆ ì›Œí¬í”Œë¡œìš° ì²´í—˜

```bash
# 1. ë©”ì¸ í”„ë¡œì íŠ¸ ìƒì„±
mkdir main-project && cd main-project
git init
echo "# Main Project" > README.md
git add . && git commit -m "chore: ë©”ì¸ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”"

# 2. ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì €ì¥ì†Œ ìƒì„± (ë³„ë„ ë””ë ‰í† ë¦¬)
cd ..
mkdir shared-lib && cd shared-lib
git init
echo "export const VERSION = '1.0.0';" > index.js
git add . && git commit -m "feat: ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ v1.0.0"

# 3. ë©”ì¸ í”„ë¡œì íŠ¸ì— ì„œë¸Œëª¨ë“ˆë¡œ ì¶”ê°€
cd ../main-project
git submodule add ../shared-lib libs/shared
git commit -m "chore: shared-lib ì„œë¸Œëª¨ë“ˆ ì¶”ê°€"

# 4. ì„œë¸Œëª¨ë“ˆ ìƒíƒœ í™•ì¸
git submodule status
```

```output
 abc1234 libs/shared (heads/main)
```

```bash
# 5. ë‹¤ë¥¸ ê°œë°œìê°€ ì´ í”„ë¡œì íŠ¸ë¥¼ cloneí•˜ëŠ” ìƒí™© ì‹œë®¬ë ˆì´ì…˜
cd ..
git clone --recurse-submodules main-project main-project-clone
cd main-project-clone/libs/shared
cat index.js
```

```output
export const VERSION = '1.0.0';
```

## ë” ê¹Šì´ ì•Œì•„ë³´ê¸°

### Googleì˜ ëª¨ë…¸ë ˆí¬ ì´ì•¼ê¸°

Googleì€ ì„¸ê³„ ìµœëŒ€ì˜ ëª¨ë…¸ë ˆí¬ë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. 2015ë…„ ê¸°ì¤€ìœ¼ë¡œ **20ì–µ ì¤„ì˜ ì½”ë“œ**ê°€ í•˜ë‚˜ì˜ ì €ì¥ì†Œì— ë“¤ì–´ìˆì—ˆê³ , 4ë§Œ ëª… ì´ìƒì˜ ê°œë°œìê°€ í•˜ë£¨ì— **4ë§Œ 5ì²œ ê±´ì˜ ì»¤ë°‹**ì„ í•©ë‹ˆë‹¤. ë¬¼ë¡  Gitì´ ì•„ë‹Œ ìì²´ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ **Piper**ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ëª¨ë…¸ë ˆí¬ì˜ ì¥ì ì„ ê·¹ëŒ€í™”í•œ ì‚¬ë¡€ì£ .

í¥ë¯¸ë¡œìš´ ì ì€ Google ë‚´ë¶€ì—ì„œë„ ëª¨ë…¸ë ˆí¬ì— ëŒ€í•œ **ë°˜ëŒ€ ì˜ê²¬**ì´ ìˆì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. 2016ë…„ Rachel Potvinì˜ ë…¼ë¬¸ "Why Google Stores Billions of Lines of Code in a Single Repository"ì—ì„œëŠ” ëª¨ë…¸ë ˆí¬ì˜ ì¥ì ê³¼ í•¨ê»˜ **ë‹¨ì **(ë¹Œë“œ ì‹œê°„, ë„êµ¬ ë³µì¡ì„±, ìƒˆ ì§ì› ì˜¨ë³´ë”©)ë„ ì†”ì§í•˜ê²Œ ë‹¤ë£¨ì—ˆìŠµë‹ˆë‹¤. "ì€íƒ„í™˜ì€ ì—†ë‹¤"ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ì˜ ì§„ë¦¬ê°€ ì—¬ê¸°ì—ë„ ì ìš©ë˜ëŠ” ê²ƒì´ì£ .

> ğŸ’¡ **ì•Œê³  ê³„ì…¨ë‚˜ìš”?**: Git submoduleì€ Git 1.5.3(2007ë…„)ì— ì²˜ìŒ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ì‚¬ìš©ë²•ì´ ë§¤ìš° ë¶ˆí¸í•´ì„œ "Gitì˜ ìµœëŒ€ ì‹¤ìˆ˜"ë¼ëŠ” ë¹„íŒë„ ìˆì—ˆì£ . í•˜ì§€ë§Œ ì´í›„ `git submodule update --init --recursive`, `git clone --recurse-submodules` ê°™ì€ í¸ì˜ ëª…ë ¹ì´ ì¶”ê°€ë˜ë©´ì„œ ì ì°¨ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.

## í”í•œ ì˜¤í•´ì™€ íŒ

> âš ï¸ **í”í•œ ì˜¤í•´**: "ëª¨ë…¸ë ˆí¬ = ëª¨ë†€ë¦¬ì‹(monolithic)" â€” ì „í˜€ ë‹¤ë¥¸ ê°œë…ì…ë‹ˆë‹¤! ëª¨ë…¸ë ˆí¬ëŠ” **ì½”ë“œ ì €ì¥** ë°©ì‹ì´ê³ , ëª¨ë†€ë¦¬ì‹ì€ **ì•„í‚¤í…ì²˜** ë°©ì‹ì…ë‹ˆë‹¤. ëª¨ë…¸ë ˆí¬ ì•ˆì— ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë„£ì„ ìˆ˜ë„ ìˆê³ , ë©€í‹°ë ˆí¬ì— ëª¨ë†€ë¦¬ì‹ ì•±ì„ ë„£ì„ ìˆ˜ë„ ìˆì–´ìš”. Google, Meta, Uberì˜ ëª¨ë…¸ë ˆí¬ì—ëŠ” ìˆ˜ì²œ ê°œì˜ ë…ë¦½ì ì¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: ì„œë¸Œëª¨ë“ˆì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ ê°€ì¥ í”í•œ ì‹¤ìˆ˜ëŠ” `git pull` í›„ **ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•˜ì§€ ì•ŠëŠ” ê²ƒ**ì…ë‹ˆë‹¤. ë‹¤ìŒ Git ì„¤ì •ì„ ì¶”ê°€í•˜ë©´ `git pull` ì‹œ ì„œë¸Œëª¨ë“ˆë„ ìë™ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤:

```bash
# submodule ìë™ ì—…ë°ì´íŠ¸ ì„¤ì •
git config --global submodule.recurse true
```

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: Git v2.38ë¶€í„° ë‚´ì¥ëœ **Scalar** ëª…ë ¹ì€ ëŒ€ê·œëª¨ ì €ì¥ì†Œì˜ ì„±ëŠ¥ì„ ìë™ìœ¼ë¡œ ìµœì í™”í•©ë‹ˆë‹¤. Microsoftê°€ Windows ê°œë°œì„ ìœ„í•´ ë§Œë“  ë„êµ¬ê°€ Git ì½”ì–´ì— í†µí•©ëœ ê²ƒì´ì£ :

```bash
# Scalarë¡œ ëŒ€ê·œëª¨ ì €ì¥ì†Œ clone (ëª¨ë“  ìµœì í™” ìë™ ì ìš©)
scalar clone https://github.com/org/large-repo.git

# ê¸°ì¡´ ì €ì¥ì†Œì— ìë™ ìœ ì§€ë³´ìˆ˜ í™œì„±í™”
git maintenance start
```

## í•µì‹¬ ì •ë¦¬

| ê°œë… | ì„¤ëª… |
|------|------|
| **ëª¨ë…¸ë ˆí¬** | ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‚˜ì˜ ì €ì¥ì†Œì— ê´€ë¦¬ |
| **ë©€í‹°ë ˆí¬** | í”„ë¡œì íŠ¸ë³„ ë³„ë„ ì €ì¥ì†Œ |
| **ëª¨ë…¸ë ˆí¬ ë„êµ¬** | Nx, Turborepo, Lerna, Bazel |
| **Submodule** | ë‹¤ë¥¸ ì €ì¥ì†Œë¥¼ ì°¸ì¡°(í¬ì¸í„°)ë¡œ í¬í•¨ |
| **Subtree** | ë‹¤ë¥¸ ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ ì§ì ‘ í¬í•¨ |
| **sparse-checkout** | ëª¨ë…¸ë ˆí¬ì—ì„œ í•„ìš”í•œ ë””ë ‰í† ë¦¬ë§Œ ì²´í¬ì•„ì›ƒ |
| **git maintenance** | ëŒ€ê·œëª¨ ì €ì¥ì†Œ ìë™ ì„±ëŠ¥ ìµœì í™” |

## ë‹¤ìŒ ì„¹ì…˜ ë¯¸ë¦¬ë³´ê¸°

ì§€ê¸ˆê¹Œì§€ íŒ€ì˜ í”„ë¡œì„¸ìŠ¤(ë„¤ì´ë°, ì»¤ë°‹, ë¦¬ë·°)ì™€ êµ¬ì¡°(ëª¨ë…¸ë ˆí¬, ì„œë¸Œëª¨ë“ˆ)ë¥¼ ë°°ì› ìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ ì„¹ì…˜ [GUI ë„êµ¬ í™œìš©](./05-gui-tools.md)ì—ì„œëŠ” ì§€ê¸ˆê¹Œì§€ CLIë¡œ ë°°ìš´ ëª¨ë“  ê²ƒì„ **ì‹œê°ì ìœ¼ë¡œ** ë‹¤ë£¨ëŠ” GUI ë„êµ¬ë¥¼ ì‚´í´ë´…ë‹ˆë‹¤. VS Code, GitKraken, Fork â€” ì–´ë–¤ ë„êµ¬ê°€ ì–´ë–¤ ìƒí™©ì— ì í•©í•œì§€, CLIì™€ GUIë¥¼ ì–´ë–»ê²Œ ì¡°í•©í•˜ë©´ ì¢‹ì€ì§€ ì•Œì•„ë´…ì‹œë‹¤.

## ì°¸ê³  ìë£Œ

- [Pro Git Book â€” Git Submodules](https://git-scm.com/book/en/v2/Git-Tools-Submodules) - ì„œë¸Œëª¨ë“ˆ ê³µì‹ ê°€ì´ë“œ
- [Pro Git Book â€” Git Subtree](https://git-scm.com/book/en/v2/Git-Tools-Subtree-Merging) - ì„œë¸ŒíŠ¸ë¦¬ ê°€ì´ë“œ
- [Turborepo Docs](https://turbo.build/repo/docs) - Turborepo ê³µì‹ ë¬¸ì„œ
- [Nx Docs](https://nx.dev) - Nx ê³µì‹ ë¬¸ì„œ
- [Rachel Potvin â€” Why Google Stores Billions of Lines of Code in a Single Repository](https://research.google/pubs/pub45424/) - Google ëª¨ë…¸ë ˆí¬ ë…¼ë¬¸
- [GitHub Docs â€” sparse-checkout](https://git-scm.com/docs/git-sparse-checkout) - ë¶€ë¶„ ì²´í¬ì•„ì›ƒ ê³µì‹ ë¬¸ì„œ
