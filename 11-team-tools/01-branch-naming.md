# ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜

> íŒ€ ë¸Œëœì¹˜ ê·œì¹™, prefix ì „ëµ, ìë™ ê²€ì¦

## ê°œìš”

í˜¼ì ê°œë°œí•  ë•ŒëŠ” `test`, `my-branch`, `asdf` ê°™ì€ ì´ë¦„ì„ ì¨ë„ ë¬¸ì œê°€ ì—†ì£ . í•˜ì§€ë§Œ íŒ€ì—ì„œ ì´ëŸ° ë¸Œëœì¹˜ê°€ 10ê°œ, 20ê°œ ìŒ“ì´ë©´ ì–´ë–¤ ë¸Œëœì¹˜ê°€ ë¬´ìŠ¨ ì‘ì—…ì¸ì§€ ì•Œ ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” íŒ€ì—ì„œ ë¸Œëœì¹˜ë¥¼ **ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬**í•˜ê¸° ìœ„í•œ ë„¤ì´ë° ê·œì¹™ì„ ë°°ì›ë‹ˆë‹¤.

**ì„ ìˆ˜ ì§€ì‹**: [ì›Œí¬í”Œë¡œìš° ì „ëµ](../08-advanced-branch/04-workflow-strategies.md)ì—ì„œ ë°°ìš´ Git Flow, GitHub Flow, Trunk-Based Development
**í•™ìŠµ ëª©í‘œ**:
- ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ì˜ í•„ìš”ì„±ì„ ì´í•´í•œë‹¤
- prefix ê¸°ë°˜ ë„¤ì´ë° ì „ëµì„ í”„ë¡œì íŠ¸ì— ì ìš©í•  ìˆ˜ ìˆë‹¤
- Git Hookê³¼ CIë¡œ ë¸Œëœì¹˜ ì´ë¦„ì„ ìë™ ê²€ì¦í•  ìˆ˜ ìˆë‹¤

## ì™œ ì•Œì•„ì•¼ í• ê¹Œ?

"ì´ ë¸Œëœì¹˜ ë­ í•˜ëŠ” ê±°ì˜ˆìš”?" â€” íŒ€ ì±„íŒ…ë°©ì—ì„œ ì´ ì§ˆë¬¸ì´ ë°˜ë³µëœë‹¤ë©´, ë¸Œëœì¹˜ ë„¤ì´ë° ê·œì¹™ì´ ì—†ë‹¤ëŠ” ì‹ í˜¸ì…ë‹ˆë‹¤. ì¢‹ì€ ë¸Œëœì¹˜ ì´ë¦„ì€ **ì½”ë“œë¥¼ ì½ì§€ ì•Šì•„ë„** ë¬´ìŠ¨ ì‘ì—…ì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.

ì‹¤ì œë¡œ ëŒ€ë¶€ë¶„ì˜ ê¸°ì—…ê³¼ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¸Œëœì¹˜ ë„¤ì´ë° ê·œì¹™ì„ CONTRIBUTING.mdë‚˜ ìœ„í‚¤ì— ëª…ì‹œí•©ë‹ˆë‹¤. CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œë„ ë¸Œëœì¹˜ ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™í™”ë¥¼ êµ¬ì„±í•˜ëŠ” ê²½ìš°ê°€ ë§ê±°ë“ ìš”. ì˜ˆë¥¼ ë“¤ì–´ `release/*` ë¸Œëœì¹˜ë§Œ ìŠ¤í…Œì´ì§• í™˜ê²½ì— ë°°í¬í•˜ê³ , `feature/*` ë¸Œëœì¹˜ëŠ” PR ìƒì„± ì‹œ í”„ë¦¬ë·° í™˜ê²½ì„ ë§Œë“œëŠ” ì‹ì´ì£ .

## í•µì‹¬ ê°œë…

### ê°œë… 1: ë¸Œëœì¹˜ ì´ë¦„ì˜ ê¸°ë³¸ ê·œì¹™

> ğŸ’¡ **ë¹„ìœ **: ë¸Œëœì¹˜ ì´ë¦„ì€ **íƒë°° ì†¡ì¥ì˜ í’ˆëª©ëª…**ê³¼ ê°™ìŠµë‹ˆë‹¤. "ë¬¼ê±´" ëŒ€ì‹  "ì‚¼ì„± ê°¤ëŸ­ì‹œ S25 ì¼€ì´ìŠ¤(í™”ì´íŠ¸)"ë¼ê³  ì ì–´ì•¼ ë¶„ë¥˜ë„ ë¹ ë¥´ê³  ì¶”ì ë„ ì‰½ì£ . ë¸Œëœì¹˜ë„ `my-branch` ëŒ€ì‹  `feature/user-login`ì´ë¼ê³  ì ì–´ì•¼ íŒ€ì› ëª¨ë‘ê°€ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Gitì—ì„œ ë¸Œëœì¹˜ ì´ë¦„ì—ëŠ” ëª‡ ê°€ì§€ **ê¸°ìˆ ì  ì œì•½**ì´ ìˆìŠµë‹ˆë‹¤:

| ê·œì¹™ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| ê³µë°± ë¶ˆê°€ | ê³µë°± ëŒ€ì‹  `-` ë˜ëŠ” `_` ì‚¬ìš© | `user login` âŒ â†’ `user-login` âœ… |
| `..` ë¶ˆê°€ | ì—°ì† ì  ë‘ ê°œ ì‚¬ìš© ë¶ˆê°€ | `feature..login` âŒ |
| ASCII ì œì–´ ë¬¸ì ë¶ˆê°€ | íŠ¹ìˆ˜ ë¬¸ì ìµœì†Œí™” | `feature/ë¡œê·¸ì¸` âš ï¸ (ë™ì‘í•˜ì§€ë§Œ ë¹„ê¶Œì¥) |
| `/`ë¡œ ì‹œì‘/ë ë¶ˆê°€ | ìŠ¬ë˜ì‹œëŠ” ì¤‘ê°„ì—ë§Œ | `/feature` âŒ, `feature/` âŒ |
| `.lock`ìœ¼ë¡œ ë ë¶ˆê°€ | Git ë‚´ë¶€ íŒŒì¼ê³¼ ì¶©ëŒ | `main.lock` âŒ |
| `~`, `^`, `:`, `?`, `*`, `[` ë¶ˆê°€ | Git ì°¸ì¡° êµ¬ë¬¸ê³¼ ì¶©ëŒ | `feature~1` âŒ |
| ìµœëŒ€ ê¸¸ì´ | **244ë°”ì´íŠ¸** (GitHub ê¸°ì¤€, `refs/heads/` 11ë°”ì´íŠ¸ ì œì™¸) | íŒŒì¼ì‹œìŠ¤í…œ 255ë°”ì´íŠ¸ ì œí•œì—ì„œ ìœ ë˜ |

```bash
# ìœ íš¨í•œ ë¸Œëœì¹˜ ì´ë¦„ í™•ì¸
git check-ref-format --branch "feature/user-login"
# â†’ ì •ìƒì´ë©´ ì´ë¦„ ì¶œë ¥, ì˜¤ë¥˜ë©´ ì—ëŸ¬ ë©”ì‹œì§€
```

```bash
# ì˜ëª»ëœ ë¸Œëœì¹˜ ì´ë¦„ í™•ì¸
git check-ref-format --branch "feature..login"
```

```error
fatal: 'feature..login' is not a valid branch name
```

### ê°œë… 2: Prefix ì „ëµ â€” ì´ë¦„ë§Œ ë³´ê³  ëª©ì ì„ íŒŒì•…

ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ë°©ì‹ì€ **ìŠ¬ë˜ì‹œ(`/`)ë¡œ êµ¬ë¶„ë˜ëŠ” prefix íŒ¨í„´**ì…ë‹ˆë‹¤. [ì›Œí¬í”Œë¡œìš° ì „ëµ](../08-advanced-branch/04-workflow-strategies.md)ì—ì„œ ë°°ìš´ Git Flowì˜ ë¸Œëœì¹˜ íƒ€ì…ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°ë˜ì£ .

**í‘œì¤€ prefix íŒ¨í„´**:

| Prefix | ìš©ë„ | ì˜ˆì‹œ |
|--------|------|------|
| `feature/` | ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ | `feature/user-auth` |
| `bugfix/` ë˜ëŠ” `fix/` | ë²„ê·¸ ìˆ˜ì • | `fix/login-validation` |
| `hotfix/` | ê¸´ê¸‰ í”„ë¡œë•ì…˜ ìˆ˜ì • | `hotfix/payment-crash` |
| `release/` | ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ | `release/2.1.0` |
| `chore/` | ë¹Œë“œ, ì„¤ì •, ì˜ì¡´ì„± ë“± | `chore/update-eslint` |
| `docs/` | ë¬¸ì„œ ë³€ê²½ | `docs/api-guide` |
| `refactor/` | ë¦¬íŒ©í† ë§ | `refactor/auth-module` |
| `test/` | í…ŒìŠ¤íŠ¸ ê´€ë ¨ | `test/e2e-login` |
| `experiment/` ë˜ëŠ” `spike/` | ì‹¤í—˜/ì¡°ì‚¬ | `experiment/new-db` |

```bash
# ì‹¤ì „ ì˜ˆì‹œ: prefixë¥¼ í™œìš©í•œ ë¸Œëœì¹˜ ìƒì„±
git switch -c feature/user-profile
git switch -c fix/cart-total-calculation
git switch -c hotfix/critical-security-patch
git switch -c release/3.0.0
```

**prefixì˜ ìˆ¨ì€ ì¥ì  â€” ìë™ ê·¸ë£¹í•‘**:

```bash
# prefixë³„ ë¸Œëœì¹˜ í•„í„°ë§
git branch --list "feature/*"
```

```output
  feature/dark-mode
  feature/user-auth
  feature/user-profile
```

```bash
# ëª¨ë“  bugfix ë¸Œëœì¹˜ í™•ì¸
git branch --list "fix/*"
```

```output
  fix/cart-total
  fix/login-validation
```

### ê°œë… 3: ì´ìŠˆ íŠ¸ë˜ì»¤ ì—°ë™ â€” ë²ˆí˜¸ë¥¼ ì´ë¦„ì— ë‹´ê¸°

íŒ€ì—ì„œ GitHub Issues, Jira, Linear ê°™ì€ ì´ìŠˆ íŠ¸ë˜ì»¤ë¥¼ ì“´ë‹¤ë©´, **ì´ìŠˆ ë²ˆí˜¸ë¥¼ ë¸Œëœì¹˜ ì´ë¦„ì— í¬í•¨**í•˜ëŠ” ê²ƒì´ ë§¤ìš° íš¨ê³¼ì ì…ë‹ˆë‹¤. [Issues í™œìš©](../07-issues-projects/01-issues.md)ì—ì„œ ë°°ìš´ ê²ƒì²˜ëŸ¼, ì´ìŠˆ ë²ˆí˜¸ëŠ” ì‘ì—…ì˜ ê³ ìœ  ì‹ë³„ì ì—­í• ì„ í•©ë‹ˆë‹¤.

**ì´ìŠˆ ì—°ë™ ë„¤ì´ë° íŒ¨í„´**:

| íŒ¨í„´ | ì˜ˆì‹œ | ì„¤ëª… |
|------|------|------|
| `prefix/ì´ìŠˆë²ˆí˜¸-ì„¤ëª…` | `feature/42-user-login` | ê°€ì¥ ë³´í¸ì  |
| `prefix/ì´ìŠˆë²ˆí˜¸` | `feature/42` | ê°„ê²°í•˜ì§€ë§Œ ì„¤ëª… ë¶€ì¡± |
| `ì‚¬ìš©ìëª…/prefix/ì´ìŠˆë²ˆí˜¸-ì„¤ëª…` | `kim/feature/42-login` | ë‹´ë‹¹ìê¹Œì§€ í‘œì‹œ |
| `JIRAí‚¤-ì„¤ëª…` | `PROJ-123-user-login` | Jira ì—°ë™ |

```bash
# GitHub Issues ì—°ë™ â€” ê°€ì¥ ì¶”ì²œí•˜ëŠ” íŒ¨í„´
git switch -c feature/156-social-login

# Jira ì—°ë™
git switch -c PROJ-789-payment-refund

# ë‹´ë‹¹ì í¬í•¨ (ëŒ€ê·œëª¨ íŒ€)
git switch -c park/feature/42-dark-mode
```

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: GitHubì—ì„œ ì´ìŠˆ í˜ì´ì§€ì˜ **"Create a branch"** ë²„íŠ¼ì„ ì‚¬ìš©í•˜ë©´, ì´ìŠˆ ë²ˆí˜¸ì™€ ì œëª©ì´ ìë™ìœ¼ë¡œ í¬í•¨ëœ ë¸Œëœì¹˜ ì´ë¦„ì´ ìƒì„±ë©ë‹ˆë‹¤. ì§ì ‘ íƒ€ì´í•‘í•  í•„ìš”ê°€ ì—†ì–´ì„œ ì‹¤ìˆ˜ë„ ì¤„ê³  ê·œì¹™ë„ ìì—°ìŠ¤ëŸ½ê²Œ ì§€ì¼œì§€ì£ .

### ê°œë… 4: ì›Œí¬í”Œë¡œìš°ë³„ ë„¤ì´ë° ì „ëµ

[ì›Œí¬í”Œë¡œìš° ì „ëµ](../08-advanced-branch/04-workflow-strategies.md)ì—ì„œ ë°°ìš´ ì„¸ ê°€ì§€ ì „ëµë§ˆë‹¤ ë¸Œëœì¹˜ ë„¤ì´ë°ë„ ë‹¬ë¼ì§‘ë‹ˆë‹¤:

**Git Flow ë„¤ì´ë°**:

| ë¸Œëœì¹˜ | ë„¤ì´ë° ê·œì¹™ | ì˜ˆì‹œ |
|--------|-------------|------|
| ë©”ì¸ | `main` (ë˜ëŠ” `master`) | `main` |
| ê°œë°œ í†µí•© | `develop` | `develop` |
| ê¸°ëŠ¥ | `feature/ì„¤ëª…` | `feature/user-auth` |
| ë¦´ë¦¬ìŠ¤ | `release/ë²„ì „` | `release/2.1.0` |
| í•«í”½ìŠ¤ | `hotfix/ì„¤ëª…` | `hotfix/xss-patch` |

**GitHub Flow ë„¤ì´ë°** (ë” ê°„ë‹¨):

| ë¸Œëœì¹˜ | ë„¤ì´ë° ê·œì¹™ | ì˜ˆì‹œ |
|--------|-------------|------|
| ë©”ì¸ | `main` | `main` |
| ì‘ì—… | `prefix/ì„¤ëª…` ë˜ëŠ” `ì„¤ëª…` | `feature/dark-mode`, `fix-typo` |

**Trunk-Based Development** (ê°€ì¥ ê°„ë‹¨):

| ë¸Œëœì¹˜ | ë„¤ì´ë° ê·œì¹™ | ì˜ˆì‹œ |
|--------|-------------|------|
| íŠ¸ë í¬ | `main` | `main` |
| ë‹¨ê¸° ì‘ì—… | `ì‚¬ìš©ìëª…/ì„¤ëª…` | `kim/add-cache` |
| ë¦´ë¦¬ìŠ¤ | `release/ë²„ì „` | `release/3.0` |

### ê°œë… 5: ì¢‹ì€ ì´ë¦„ vs ë‚˜ìœ ì´ë¦„

ì‹¤ì œ íŒ€ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ì˜ˆì‹œë¥¼ ë¹„êµí•´ë³¼ê¹Œìš”?

| âŒ ë‚˜ìœ ì´ë¦„ | âœ… ì¢‹ì€ ì´ë¦„ | ì´ìœ  |
|-------------|-------------|------|
| `test` | `feature/42-user-profile-api` | ëª©ì , ì´ìŠˆ ë²ˆí˜¸ í¬í•¨ |
| `my-branch` | `fix/login-empty-email` | ì–´ë–¤ ë²„ê·¸ì¸ì§€ ëª…í™• |
| `new` | `feature/oauth-google-login` | ë¬´ì—‡ì´ ìƒˆë¡œìš´ì§€ êµ¬ì²´ì  |
| `fix` | `hotfix/payment-timeout` | ë¬´ì—‡ì„ ìˆ˜ì •í•˜ëŠ”ì§€ êµ¬ì²´ì  |
| `asdf` | `docs/readme-install-guide` | ì˜ë¯¸ ìˆëŠ” ì´ë¦„ |
| `feature/implement-new-user-authentication-system-with-oauth2-and-jwt-token` | `feature/78-oauth-jwt-auth` | ì ì • ê¸¸ì´, ì´ìŠˆ ë²ˆí˜¸ë¡œ ìƒì„¸ ë‚´ìš©ì€ ì´ìŠˆì—ì„œ í™•ì¸ |

> âš ï¸ **í”í•œ ì˜¤í•´**: "ë¸Œëœì¹˜ ì´ë¦„ì€ ê¸¸ìˆ˜ë¡ ìƒì„¸í•´ì„œ ì¢‹ë‹¤" â€” ì•„ë‹™ë‹ˆë‹¤! ë¸Œëœì¹˜ ì´ë¦„ì´ ë„ˆë¬´ ê¸¸ë©´ í„°ë¯¸ë„ì—ì„œ ë‹¤ë£¨ê¸° ë¶ˆí¸í•˜ê³ , ì¼ë¶€ ë„êµ¬ì—ì„œ ì˜ë¦¬ê¸°ë„ í•©ë‹ˆë‹¤. **20~50ì** ì •ë„ê°€ ì ë‹¹í•˜ë©°, ìƒì„¸í•œ ë‚´ìš©ì€ ì´ìŠˆ íŠ¸ë˜ì»¤ì— ì ìœ¼ì„¸ìš”. ì´ìŠˆ ë²ˆí˜¸ë¥¼ í¬í•¨í•˜ë©´ ì´ë¦„ì€ ì§§ì•„ë„ ì¶©ë¶„í•©ë‹ˆë‹¤.

## ì‹¤ìŠµ: ë¸Œëœì¹˜ ë„¤ì´ë° ìë™ ê²€ì¦

ê·œì¹™ì„ ì •í–ˆìœ¼ë©´, ì´ì œ **ìë™ìœ¼ë¡œ ì§€ì¼œì§€ê²Œ** ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ê·œì¹™ì„ ë¬¸ì„œì— ì ì–´ë‘ê¸°ë§Œ í•˜ë©´ ë°˜ë“œì‹œ ì–´ê¸°ëŠ” ì‚¬ëŒì´ ë‚˜íƒ€ë‚˜ê±°ë“ ìš”. Git Hookê³¼ CIë¥¼ í™œìš©í•œ ìë™ ê²€ì¦ ë°©ë²•ì„ ì•Œì•„ë´…ì‹œë‹¤.

### ë°©ë²• 1: Git Hookìœ¼ë¡œ ë¡œì»¬ ê²€ì¦

```bash
# .git/hooks/pre-push íŒŒì¼ ìƒì„± (ë¡œì»¬ í›…)
#!/bin/bash
# ë¸Œëœì¹˜ ì´ë¦„ ê·œì¹™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

BRANCH_NAME=$(git symbolic-ref --short HEAD)

# í—ˆìš©ë˜ëŠ” íŒ¨í„´ ì •ì˜
VALID_PATTERN="^(feature|fix|bugfix|hotfix|release|chore|docs|refactor|test|experiment)/[a-z0-9._-]+$"

# main, develop ë¸Œëœì¹˜ëŠ” ì˜ˆì™¸
if [[ "$BRANCH_NAME" == "main" || "$BRANCH_NAME" == "develop" ]]; then
  exit 0
fi

if [[ ! "$BRANCH_NAME" =~ $VALID_PATTERN ]]; then
  echo "âŒ ë¸Œëœì¹˜ ì´ë¦„ì´ ê·œì¹™ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤: '$BRANCH_NAME'"
  echo ""
  echo "ì˜¬ë°”ë¥¸ í˜•ì‹: <prefix>/<ì„¤ëª…>"
  echo "í—ˆìš© prefix: feature, fix, bugfix, hotfix, release, chore, docs, refactor, test, experiment"
  echo "ì˜ˆì‹œ: feature/user-login, fix/cart-total"
  echo ""
  echo "ìì„¸í•œ ê·œì¹™ì€ CONTRIBUTING.mdë¥¼ ì°¸ê³ í•˜ì„¸ìš”."
  exit 1
fi
```

```bash
# í›… íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x .git/hooks/pre-push
```

í•˜ì§€ë§Œ ë¡œì»¬ Git Hookì€ `.git/hooks/` ë””ë ‰í† ë¦¬ì— ìˆì–´ì„œ **ë²„ì „ ê´€ë¦¬ê°€ ì•ˆ ë©ë‹ˆë‹¤**. íŒ€ì›ë§ˆë‹¤ ë”°ë¡œ ì„¤ì •í•´ì•¼ í•˜ì£ . ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ **Husky**(Node.js í”„ë¡œì íŠ¸)ì™€ **Lefthook**(ì–¸ì–´ ë¬´ê´€, Go ê¸°ë°˜)ì…ë‹ˆë‹¤.

### ë°©ë²• 2: Huskyë¡œ íŒ€ ê³µìœ  ê°€ëŠ¥í•œ Hook

```bash
# Husky ì„¤ì¹˜ (Node.js í”„ë¡œì íŠ¸)
npm install --save-dev husky

# Husky ì´ˆê¸°í™”
npx husky init
```

```bash
# .husky/pre-push íŒŒì¼ ìƒì„±
#!/bin/sh

BRANCH_NAME=$(git symbolic-ref --short HEAD)
VALID_PATTERN="^(feature|fix|bugfix|hotfix|release|chore|docs|refactor|test|experiment)/[a-z0-9._-]+$"

# main, developì€ ì˜ˆì™¸
if [ "$BRANCH_NAME" = "main" ] || [ "$BRANCH_NAME" = "develop" ]; then
  exit 0
fi

if ! echo "$BRANCH_NAME" | grep -qE "$VALID_PATTERN"; then
  echo "âŒ ë¸Œëœì¹˜ ì´ë¦„ì´ ê·œì¹™ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤: '$BRANCH_NAME'"
  echo "ì˜¬ë°”ë¥¸ í˜•ì‹: <prefix>/<ì„¤ëª…>"
  exit 1
fi
```

### ë°©ë²• 3: GitHub Actionsë¡œ ì„œë²„ ê²€ì¦

ë¡œì»¬ í›…ì€ ìš°íšŒí•  ìˆ˜ ìˆì§€ë§Œ, CIëŠ” ìš°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. [Actions ì‹œì‘í•˜ê¸°](../10-github-actions/01-actions-intro.md)ì—ì„œ ë°°ìš´ ê²ƒì²˜ëŸ¼, ì›Œí¬í”Œë¡œìš°ë¡œ ë¸Œëœì¹˜ ì´ë¦„ì„ ê²€ì¦í•´ë´…ì‹œë‹¤:

```yaml
# .github/workflows/branch-name-check.yml
name: Branch Name Check

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  check-branch-name:
    runs-on: ubuntu-latest
    steps:
      - name: Check branch name
        run: |
          BRANCH_NAME="${{ github.head_ref }}"
          VALID_PATTERN="^(feature|fix|bugfix|hotfix|release|chore|docs|refactor|test|experiment)/[a-z0-9._-]+$"

          # main, developì€ ì˜ˆì™¸
          if [[ "$BRANCH_NAME" == "main" || "$BRANCH_NAME" == "develop" ]]; then
            echo "âœ… ê¸°ë³¸ ë¸Œëœì¹˜: $BRANCH_NAME"
            exit 0
          fi

          if [[ ! "$BRANCH_NAME" =~ $VALID_PATTERN ]]; then
            echo "âŒ ë¸Œëœì¹˜ ì´ë¦„ì´ ê·œì¹™ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤: '$BRANCH_NAME'"
            echo ""
            echo "ì˜¬ë°”ë¥¸ í˜•ì‹: <prefix>/<ì„¤ëª…>"
            echo "í—ˆìš© prefix: feature, fix, bugfix, hotfix, release,"
            echo "             chore, docs, refactor, test, experiment"
            exit 1
          fi

          echo "âœ… ë¸Œëœì¹˜ ì´ë¦„ í™•ì¸ ì™„ë£Œ: $BRANCH_NAME"
```

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: **Branch Protection Rule**ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì™„ë²½í•©ë‹ˆë‹¤. [ë¹Œë“œì™€ í…ŒìŠ¤íŠ¸ ìë™í™”](../10-github-actions/03-ci.md)ì—ì„œ ë°°ìš´ ê²ƒì²˜ëŸ¼, `check-branch-name` ì‘ì—…ì„ Required Status Checkìœ¼ë¡œ ì„¤ì •í•˜ë©´ ê·œì¹™ì„ ì–´ê¸´ ë¸Œëœì¹˜ì˜ PRì€ ë¨¸ì§€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

### ë°©ë²• 4: GitHub Rulesets (ìµœì‹  ë°©ì‹)

GitHubì€ 2023ë…„ë¶€í„° **Repository Rulesets**ë¥¼ ë„ì…í–ˆìŠµë‹ˆë‹¤. ë³„ë„ì˜ CI ì—†ì´ **ë¸Œëœì¹˜ ì´ë¦„ íŒ¨í„´ì„ ê°•ì œ**í•  ìˆ˜ ìˆì–´ìš”:

1. ì €ì¥ì†Œ â†’ **Settings** â†’ **Rules** â†’ **Rulesets** â†’ **New ruleset**
2. **Branch** íƒ€ì… ì„ íƒ
3. **Branch name pattern** ì¶”ê°€: `feature/*`, `fix/*`, `release/*`
4. íŒ¨í„´ì— ë§ì§€ ì•ŠëŠ” ë¸Œëœì¹˜ ìƒì„± ìì²´ë¥¼ ì°¨ë‹¨

ì´ ë°©ë²•ì€ ì„œë²„ ì¸¡ì—ì„œ ë™ì‘í•˜ë¯€ë¡œ ë¡œì»¬ ì„¤ì •ì´ í•„ìš” ì—†ê³ , ëª¨ë“  íŒ€ì›ì—ê²Œ ìë™ ì ìš©ë©ë‹ˆë‹¤.

## ë” ê¹Šì´ ì•Œì•„ë³´ê¸°

### ë¸Œëœì¹˜ ë„¤ì´ë°ì˜ ì—­ì‚¬

ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ì€ **Git Flow**ì™€ í•¨ê»˜ ëŒ€ì¤‘í™”ë˜ì—ˆìŠµë‹ˆë‹¤. 2010ë…„ Vincent Driessenì´ "A successful Git branching model"ì„ ë°œí‘œí•˜ë©´ì„œ `feature/`, `release/`, `hotfix/` ê°™ì€ prefix íŒ¨í„´ì´ ì‚¬ì‹¤ìƒ í‘œì¤€ì´ ë˜ì—ˆì£ .

í¥ë¯¸ë¡œìš´ ì ì€ Git ìì²´ì—ëŠ” **ë¸Œëœì¹˜ ì´ë¦„ì— ëŒ€í•œ ê·œì•½ì´ ì „í˜€ ì—†ë‹¤**ëŠ” ê²ƒì…ë‹ˆë‹¤. Gitì€ ë¸Œëœì¹˜ë¥¼ ë‹¨ì§€ **ì»¤ë°‹ì„ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°**ë¡œ ì·¨ê¸‰í•˜ê¸° ë•Œë¬¸ì—([Git ë‚´ë¶€ êµ¬ì¡°](../09-history-internals/05-git-internals.md)ì—ì„œ ë°°ìš´ ê²ƒì²˜ëŸ¼), ì´ë¦„ì€ ìˆœì „íˆ ì‚¬ëŒì„ ìœ„í•œ ê²ƒì´ì—ìš”. ê·¸ë˜ì„œ íŒ€ë§ˆë‹¤ ê·œì¹™ì´ ë‹¤ë¥´ê³ , "ìœ ì¼í•œ ì •ë‹µ"ì€ ì—†ìŠµë‹ˆë‹¤ â€” ì¤‘ìš”í•œ ê±´ **íŒ€ì´ í•˜ë‚˜ì˜ ê·œì¹™ì— í•©ì˜í•˜ëŠ” ê²ƒ**ì´ì£ .

> ğŸ’¡ **ì•Œê³  ê³„ì…¨ë‚˜ìš”?**: `main` ë¸Œëœì¹˜ì˜ ì´ë¦„ë„ ì—­ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤. Gitì€ ì›ë˜ `master`ë¼ëŠ” ì´ë¦„ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í–ˆëŠ”ë°, 2020ë…„ ì¸ì¢…ì°¨ë³„ì  í•¨ì˜ì— ëŒ€í•œ ë…¼ì˜ ëì— GitHub, GitLab ë“±ì´ ê¸°ë³¸ ë¸Œëœì¹˜ ì´ë¦„ì„ `main`ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ Git 2.28+ì—ì„œëŠ” `git config --global init.defaultBranch main`ìœ¼ë¡œ ê¸°ë³¸ ì´ë¦„ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### CI/CDì™€ì˜ ì—°ê³„

ë¸Œëœì¹˜ ì´ë¦„ì€ ë‹¨ìˆœí•œ ì‹ë³„ìë¥¼ ë„˜ì–´ **CI/CD íŒŒì´í”„ë¼ì¸ì˜ íŠ¸ë¦¬ê±°** ì—­í• ì„ í•©ë‹ˆë‹¤:

| ë¸Œëœì¹˜ íŒ¨í„´ | CI/CD ë™ì‘ |
|------------|-----------|
| `feature/*` | í…ŒìŠ¤íŠ¸ ì‹¤í–‰, PR í”„ë¦¬ë·° ë°°í¬ |
| `release/*` | í…ŒìŠ¤íŠ¸ + ìŠ¤í…Œì´ì§• í™˜ê²½ ë°°í¬ |
| `hotfix/*` | ê¸´ê¸‰ í…ŒìŠ¤íŠ¸ + ì¦‰ì‹œ ë°°í¬ íŒŒì´í”„ë¼ì¸ |
| `main` | í”„ë¡œë•ì…˜ ë°°í¬ |

[ë°°í¬ ìë™í™”](../10-github-actions/04-cd.md)ì—ì„œ ë°°ìš´ Environmentì™€ ê²°í•©í•˜ë©´, ë¸Œëœì¹˜ ì´ë¦„ë§Œìœ¼ë¡œ ì–´ë””ì— ë°°í¬í• ì§€ê°€ ìë™ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤.

## í”í•œ ì˜¤í•´ì™€ íŒ

> âš ï¸ **í”í•œ ì˜¤í•´**: "prefixì— ìŠ¬ë˜ì‹œ(`/`)ë¥¼ ì“°ë©´ ë””ë ‰í† ë¦¬ê°€ ìƒê²¨ì„œ ë¬¸ì œê°€ ëœë‹¤" â€” Gitì€ ë‚´ë¶€ì ìœ¼ë¡œ refsë¥¼ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¡œ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— `feature/login`ê³¼ `feature`ë¼ëŠ” ë¸Œëœì¹˜ê°€ ë™ì‹œì— ì¡´ì¬í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ `feature/a`ì™€ `feature/b`ëŠ” ë¬¸ì œì—†ì´ ê³µì¡´í•©ë‹ˆë‹¤. prefix íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ì„œ **prefix ìì²´ë¥¼ ë¸Œëœì¹˜ ì´ë¦„ìœ¼ë¡œ ì“°ì§€ ì•Šìœ¼ë©´** ë©ë‹ˆë‹¤.

> ğŸ”¥ **ì‹¤ë¬´ íŒ**: ë¸Œëœì¹˜ ì´ë¦„ì— **ì†Œë¬¸ìì™€ í•˜ì´í”ˆ(`-`)ë§Œ** ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ëŒ€ë¬¸ìëŠ” macOSì—ì„œ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šì•„ ì¶©ëŒì´ ìƒê¸¸ ìˆ˜ ìˆê³ , ì–¸ë”ìŠ¤ì½”ì–´(`_`)ë³´ë‹¤ í•˜ì´í”ˆì´ URLì—ì„œ ë” ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤.

> ğŸ’¡ **ì•Œê³  ê³„ì…¨ë‚˜ìš”?**: GitHubì˜ **"Create a branch" ê¸°ëŠ¥**ì€ ì´ìŠˆ ì œëª©ì—ì„œ ìë™ìœ¼ë¡œ ë¸Œëœì¹˜ ì´ë¦„ì„ ìƒì„±í•©ë‹ˆë‹¤. í•œê¸€ ì´ìŠˆ ì œëª©ë„ ì˜ë¬¸ìœ¼ë¡œ ë³€í™˜í•´ì£¼ê³ , íŠ¹ìˆ˜ ë¬¸ìë„ ìë™ìœ¼ë¡œ ì œê±°í•©ë‹ˆë‹¤. ì´ìŠˆ ê¸°ë°˜ ê°œë°œ íë¦„ì—ì„œ ë§¤ìš° í¸ë¦¬í•œ ê¸°ëŠ¥ì´ì—ìš”.

## í•µì‹¬ ì •ë¦¬

| ê°œë… | ì„¤ëª… |
|------|------|
| **Prefix íŒ¨í„´** | `feature/`, `fix/`, `hotfix/` ë“±ìœ¼ë¡œ ë¸Œëœì¹˜ ëª©ì  í‘œì‹œ |
| **ì´ìŠˆ ë²ˆí˜¸ í¬í•¨** | `feature/42-user-login` â€” ì¶”ì ê³¼ ìë™í™”ì— ìœ ë¦¬ |
| **Git ì œì•½** | ê³µë°±, `..`, íŠ¹ìˆ˜ë¬¸ì(`~^:?*[`) ì‚¬ìš© ë¶ˆê°€ |
| **ë¡œì»¬ ê²€ì¦** | Git Hook(`pre-push`) ë˜ëŠ” Huskyë¡œ í‘¸ì‹œ ì „ ê²€ì¦ |
| **ì„œë²„ ê²€ì¦** | GitHub Actions ë˜ëŠ” Rulesetsë¡œ ê°•ì œ |
| **ì†Œë¬¸ì + í•˜ì´í”ˆ** | `feature/user-login` í˜•íƒœê°€ ê°€ì¥ ë³´í¸ì  |
| **ì ì • ê¸¸ì´** | 20~50ì ê¶Œì¥, ìƒì„¸ ë‚´ìš©ì€ ì´ìŠˆ íŠ¸ë˜ì»¤ì— |

## ë‹¤ìŒ ì„¹ì…˜ ë¯¸ë¦¬ë³´ê¸°

ë¸Œëœì¹˜ ì´ë¦„ì— ê·œì¹™ì´ í•„ìš”í•˜ë“¯ì´, **ì»¤ë°‹ ë©”ì‹œì§€**ì—ë„ ê·œì¹™ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ [ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜](./02-commit-convention.md)ì—ì„œëŠ” Conventional Commits ê·œì•½, commitlintë¡œ ë©”ì‹œì§€ ê²€ì¦, ìë™ Changelog ìƒì„±ê¹Œì§€ â€” ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ **ìë™í™”ì˜ ì¶œë°œì **ìœ¼ë¡œ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.

## ì°¸ê³  ìë£Œ

- [Git Docs â€” git-check-ref-format](https://git-scm.com/docs/git-check-ref-format) - ë¸Œëœì¹˜ ì´ë¦„ ê·œì¹™ ê³µì‹ ë¬¸ì„œ
- [GitHub Docs â€” Managing Rulesets](https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets) - Repository Rulesets ê°€ì´ë“œ
- [A successful Git branching model](https://nvie.com/posts/a-successful-git-branching-model/) - Vincent Driessenì˜ Git Flow ì›ë¬¸ (prefix íŒ¨í„´ì˜ ì›ì¡°)
- [Conventional Branch Naming](https://dev.to/couchcamote/git-branching-name-convention-cch) - ë¸Œëœì¹˜ ë„¤ì´ë° íŒ¨í„´ ê°€ì´ë“œ
